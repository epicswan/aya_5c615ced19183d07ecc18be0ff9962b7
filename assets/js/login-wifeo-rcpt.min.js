!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("JSONSchemaForm"),require("axios"),require("UtilsRcpt"),require("SectionRcpt"),require("BtnModeRcpt")):"function"==typeof define&&define.amd?define(["react","JSONSchemaForm","axios","UtilsRcpt","SectionRcpt","BtnModeRcpt"],t):"object"==typeof exports?exports.LoginWifeoRcpt=t(require("react"),require("JSONSchemaForm"),require("axios"),require("UtilsRcpt"),require("SectionRcpt"),require("BtnModeRcpt")):e.LoginWifeoRcpt=t(e.React,e.JSONSchemaForm,e.axios,e.UtilsRcpt,e.SectionRcpt,e.BtnModeRcpt)}("undefined"!=typeof self?self:this,function(e,t,n,a,o,i){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(2),c=a(l),d=n(3),u=a(d),f=n(4),p=a(f),m=n(5),h=a(m),g=n(6),v=a(g),b=n(7),w=a(b);n(8);var y,E=(p.default.CancelToken,h.default._store.getEnv()),k=E.scheme,S=E.domain,_=E.subdomain,x=E.apiProd,F=E.domainApi,R=x?_:"user",P=(k+"://"+R+"."+(x?F:S)).replace("__API__","user"),N=function(e){return console.log.bind(console,e)},C=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.adminFrame=c.default.createRef(),n.state={schema1:n.props.loginForm.schema,schema2:n.props.registerForm.schema,schema3:n.props.forgetPwdForm.schema,schema4:n.props.newPwdForm.schema,uid:n.props.uid,loginForm:"login"===n.props.startOn,forgetPwdForm:!1,showInfoForgetPwd:!1,showNewPwdForm:!1,pwdHasChanged:!1,error:null,bearer:{},isLoaded:!1,pathSaveLogin:P+"/login_check",pathSaveRegister:P+"/register",pathForgetPwd:P+"/resetting/send-email",pathNewPwd:P+"/resetting/reset/",pathGoogleLogin:P+"/check_google_login",pathGoogleRegister:P+"/register_with_google",pathFacebookLogin:P+"/check_facebook_login",pathFacebookRegister:P+"/register_with_facebook",cancelToken:null,successInfoForgetPwd:!1,pendingRequest:!1},n.onIdentificationSuccess=n.onIdentificationSuccess.bind(n),n.onResponseForgetPwd=n.onResponseForgetPwd.bind(n),n.loadGoogleAssets=n.loadGoogleAssets.bind(n),n.doLoginValidation=n.doLoginValidation.bind(n),n.doRegisterValidation=n.doRegisterValidation.bind(n),n.doForgetPwdValidation=n.doForgetPwdValidation.bind(n),n.doChangePwdValidation=n.doChangePwdValidation.bind(n),n.flipMode=n.flipMode.bind(n),localStorage.setItem("isCmsLogged",!1),n}return r(t,e),s(t,[{key:"doRegisterValidation",value:function(e,t){var n=this;this.validate(e,this.state.pathSaveRegister,function(e,t){n.runSendinblue(t._username),n.onIdentificationSuccess(e,t)})}},{key:"doLoginValidation",value:function(e){var t=this;this.validate(e,this.state.pathSaveLogin,function(e,n){t.onIdentificationSuccess(e,n)})}},{key:"doForgetPwdValidation",value:function(e){var t=this,n=function(e,n){t.onResponseForgetPwd(e,n)};this.validate(e,this.state.pathForgetPwd,n,n)}},{key:"doChangePwdValidation",value:function(e){this.validate(e,this.state.pathNewPwd+this.state.tokenNewPwd)}},{key:"CustomFieldTemplate",value:function(e){var t=e.id,n=e.classNames,a=e.label,o=e.help,i=e.required,r=e.description,s=(e.errors,e.children);return c.default.createElement("div",{className:n},c.default.createElement("label",{htmlFor:t}," ",a," ",i?"*":null," ")," ",r," ",s,o," ")}},{key:"validateDoublePwd",value:function(e,t){return""!==e.password&&e.password!==e.repeat_password&&t.repeat_password.addError("Passwords don't match"),t}},{key:"validate",value:function(e,t,n,a){var o=this;this.state.pendingRequest||this.setState({pendingRequest:!0},function(){var i={data:e.formData};i=t.includes("resetting")?{username:e.formData.email}:{_username:e.formData.email,_password:e.formData.password,_uid:o.props.uid},p.default.post(t,i,{headers:{"Content-Type":"application/json"}}).then(function(e){o.setState({pendingRequest:!1},function(){"function"==typeof n&&n(e.data,i)})}).catch(function(e){o.setState({pendingRequest:!1},function(){"function"==typeof a?a(e.response.data,i):o.onIdentificationFail(e)})})})}},{key:"validateNewPwd",value:function(e,t){var n=this;this.state.pendingRequest||this.setState({pendingRequest:!0},function(){var a={data:e.formData};a={"fos_user_resetting_form[plainPassword][first]":e.formData.password,"fos_user_resetting_form[plainPassword][second]":e.formData.repeat_password},p.default.post(t,a,{headers:{"Content-Type":"application/json"}}).then(function(e){n.setState({pendingRequest:!1,pwdHasChanged:!0})}).catch(function(e){n.setState({pendingRequest:!1},function(){n.onIdentificationFail(e)})})})}},{key:"flipMode",value:function(e){e.preventDefault(),this.setState({loginForm:!this.state.loginForm,forgetPwdForm:!1}),this.loadGoogleAssets(),this.loadFacebookAssets()}},{key:"fbRegister",value:function(){this.setState({pendingRequest:!0});var e=this,t=this.state.pathFacebookRegister;this.state.loginForm&&(t=this.state.pathFacebookLogin),FB.login(function(n){if("connected"===n.status){var a=n&&n.authResponse&&n.authResponse.accessToken;p.default.post(t,{accessToken:a},{headers:{"Content-Type":"application/json"}}).then(function(t){e.setState({pendingRequest:!1,pwdHasChanged:!0}),e.onIdentificationSuccess(t.data,{_username:Math.round(Date.now()/1e3)})}).catch(function(t){e.loadGoogleAssets(),e.setState({pendingRequest:!1},function(){e.onIdentificationFail(t)})})}else e.loadGoogleAssets(),e.setState({pendingRequest:!1},function(){e.onIdentificationFail({})})},{scope:"public_profile,email"})}},{key:"loadFacebookAssets",value:function(){!function(e,t,n){var a,o=e.getElementsByTagName(t)[0];e.getElementById(n)||(a=e.createElement(t),a.id=n,a.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(a,o))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:"564839460792327",xfbml:!0,version:"v6.0"}),FB.AppEvents.logPageView()}}},{key:"loadGoogleAssets",value:function(){var e=this.state.pathGoogleLogin,t=this.state.pathGoogleRegister,n=this;$(document).ready(function(){function a(a){i.attachClickHandler(a,{},function(a){n.state.loginForm?o(a,e):o(a,t)},function(e){n.setState({pendingRequest:!1},function(){n.onIdentificationFail(e),n.loadGoogleAssets()})})}function o(e,t){n.setState({pendingRequest:!0});var a=e.getBasicProfile(),o=e.getAuthResponse().id_token;p.default.post(t,{token:o,email:a.getEmail()},{headers:{"Content-Type":"application/json"}}).then(function(e){n.setState({pendingRequest:!1,pwdHasChanged:!0}),n.onIdentificationSuccess(e.data,{_username:a.getEmail()})}).catch(function(e){n.setState({pendingRequest:!1},function(){n.onIdentificationFail(e),n.loadGoogleAssets()})})}var i={};!function(){gapi.load("auth2",function(){i=gapi.auth2.init({client_id:"1070825060405-vk9q6sv2h4au1i5d9fi2v6miib51g4u7.apps.googleusercontent.com",cookiepolicy:"single_host_origin",scope:"profile"}),a(n.state.loginForm?document.getElementById("googleLogin"):document.getElementById("googleRegister"))})}()})}},{key:"componentDidMount",value:function(){this.loadGoogleAssets(),this.loadFacebookAssets(),this.state.pathGet;var e=this.gup("action",location.href),t=this.gup("action",location.href);e&&t&&"reset_password"===e&&this.setState({showNewPwdForm:!0,tokenNewPwd:t})}},{key:"gup",value:function(e,t){t||(t=location.href),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",a=new RegExp(n),o=a.exec(t);return null==o?null:o[1]}},{key:"componentWillUnmount",value:function(){y&&"function"==typeof y&&y()}},{key:"forgetPwd",value:function(){this.setState({forgetPwdForm:!0,showInfoForgetPwd:!1})}},{key:"parseJwt",value:function(e){var t=e.split(".")[1],n=t.replace("-","+").replace("_","/");return JSON.parse(window.atob(n))}},{key:"onResponseForgetPwd",value:function(e,t){this.setState({showInfoForgetPwd:!0,successInfoForgetPwd:e.status})}},{key:"onIdentificationSuccess",value:function(e,t){localStorage.setItem("currentUser",e.token);var n=JSON.stringify({token:e.token});t&&t._username&&(n=JSON.stringify({token:e.token,email:t._username})),this.adminFrame.current.contentWindow.postMessage(n,"*"),localStorage.setItem("isCmsLogged",!0),this.parseJwt(e.token).username&&setTimeout(function(){console.log("redirecting to dash..."),location.href=k+"://editor."+S+"/dashboard/"},1e3)}},{key:"onIdentificationFail",value:function(e){alert(e.response&&e.response.data&&e.response.data.error?e.response.data.error:'L\'adresse email ou le mot de passe indiqués ne semble pas valides. Si vous avez oublié votre mot de passe, cliquez sur "Mot de passe oublié"')}},{key:"backToLogin",value:function(){this.setState({loginForm:!0,forgetPwdForm:!1,showInfoForgetPwd:!1,pwdHasChanged:!1,tokenNewPwd:""})}},{key:"runSendinblue",value:function(e){var t=window.sendinblue;void 0!==t&&void 0!==e&&(t.identify(e,{TYPE_CLIENT:"new_wifeo"}),t.track("register_user_new_wifeo",{type_client:"new_wifeo"},{data:{register_date:Math.round(Date.now()/1e3),register_medium:"email"}}))}},{key:"renderRegister",value:function(){var e=this,t=this.props.uiSchema,n=this.state,a=n.schema2,o=(n.loginForm,n.pendingRequest),i=this.doRegisterValidation,r=this.CustomFieldTemplate;this.validateDoublePwd;return c.default.createElement("div",null,c.default.createElement("div",{className:"login__header"},c.default.createElement("div",{className:"h1"}," S'inscrire"),c.default.createElement("div",{className:"login__header-label"},"Vous avez déjà un compte ? "," "," ",c.default.createElement("span",{onClick:function(t){return e.flipMode(t)}},c.default.createElement("a",{href:"/"}," Se connecter ")," "))),c.default.createElement("br",null),o&&c.default.createElement("div",{className:"text-center"}," ",c.default.createElement("i",{className:"fas fa-spinner fa-pulse"})," ")," ",!o&&c.default.createElement("div",null,c.default.createElement(w.default,{cta:{txt:" S'inscrire avec Facebook",class:"btn-light btn-outline-secondary btn-block px-4",link:"/",visible:!0,tpl:"BtnBootstrap",icon:{active:!0,css:"fab fa-facebook-f",color:"#445b8f"},type:"reset",onAction:function(){e.fbRegister()}}})," ",c.default.createElement(w.default,{cta:{id:"googleRegister",txt:" S'inscrire avec Google",class:"btn-light btn-outline-secondary btn-block px-4",link:"/",visible:!0,tpl:"BtnBootstrap",icon:{active:!0,css:"fab fa-google",color:"#ce5542"},type:"reset",onAction:function(){}}}),c.default.createElement("br",null),c.default.createElement("div",{className:"login-choice"}," ",c.default.createElement("span",null," ou ")))," ",c.default.createElement(u.default,{schema:a,FieldTemplate:r,onError:N("errors"),onSubmit:i,showErrorList:!1,liveValidate:!0,uiSchema:t},c.default.createElement("div",{className:"text-center"}," ",o&&c.default.createElement("i",{className:"fas fa-spinner fa-pulse"})||c.default.createElement(w.default,{cta:{txt:"S'inscrire",class:"btn-primary btn-block px-4",link:"/",visible:!0,tpl:"BtnBootstrapSubmit"}})," ")," ")," ")}},{key:"renderLogin",value:function(){var e=this,t=this.props.uiSchema,n=this.state,a=n.schema1,o=(n.loginForm,n.pendingRequest),i=this.doLoginValidation,r=this.CustomFieldTemplate;return c.default.createElement("div",null,c.default.createElement("div",{className:"login__header"},c.default.createElement("div",{className:"h1"}," Se connecter ")," ",c.default.createElement("div",{className:"login__header-label"},"Vous n 'avez pas encore de compte ?"," "," ",c.default.createElement("span",{onClick:function(t){return e.flipMode(t)}},c.default.createElement("a",{href:"/"}," S 'inscrire")," ")," ")," "),"  ",c.default.createElement("br",null),o&&c.default.createElement("div",{className:"text-center"}," ",c.default.createElement("i",{className:"fas fa-spinner fa-pulse"})," ")," ",!o&&c.default.createElement("div",null,c.default.createElement(w.default,{cta:{txt:" Continuer avec Facebook",class:"btn-light btn-outline-secondary btn-block px-4",link:"/",visible:!0,tpl:"BtnBootstrap",icon:{active:!0,css:"fab fa-facebook-f",color:"#445b8f"},type:"reset",onAction:function(){e.fbRegister()}}})," ",c.default.createElement(w.default,{cta:{id:"googleLogin",txt:" Continuer avec Google",class:"btn-light btn-outline-secondary btn-block px-4",link:"/",visible:!0,tpl:"BtnBootstrap",icon:{active:!0,css:"fab fa-google",color:"#ce5542"},type:"reset",onAction:function(){}}}),c.default.createElement("br",null),c.default.createElement("div",{className:"login-choice"}," ",c.default.createElement("span",null," ou ")))," ",c.default.createElement(u.default,{schema:a,FieldTemplate:r,onError:N("errors"),onSubmit:i,showErrorList:!1,liveValidate:!0,uiSchema:t},c.default.createElement("div",null,c.default.createElement("div",{className:"text-right my-3"},c.default.createElement("button",{type:"button",onClick:function(){return e.forgetPwd()},className:"btn btn-link px-0"},"Mot de passe oublié ?")," ")," ",c.default.createElement("div",{className:"text-center"}," ",o&&c.default.createElement("i",{className:"fas fa-spinner fa-pulse"})||c.default.createElement(w.default,{cta:{txt:"Se connecter",class:"btn-primary btn-block px-4",link:"/",visible:!0,tpl:"BtnBootstrapSubmit"}})," "," ")," ")," ")," ")}},{key:"renderForgetPwd",value:function(){var e=this,t=this.props.uiSchema,n=this.state,a=n.schema3,o=n.pendingRequest,i=this.doForgetPwdValidation,r=this.CustomFieldTemplate;return c.default.createElement("div",null,c.default.createElement("div",{className:"login__header"}," Mot de Passe oublié ")," ",c.default.createElement(u.default,{schema:a,FieldTemplate:r,onError:N("errors"),onSubmit:i,showErrorList:!1,liveValidate:!0,uiSchema:t},c.default.createElement("div",{className:"d-flex justify-content-between btns-forget-pwd"},c.default.createElement(w.default,{cta:{txt:"Annuler",class:"btn-light btn-block px-4",link:"/",visible:!0,tpl:"BtnBootstrapSubmit",type:"reset",onAction:function(){e.backToLogin()}}})," "," ",c.default.createElement("span",null,"   ")," ",o&&c.default.createElement("div",{className:"m-auto text-center btn-block"},c.default.createElement("i",{className:"fas fa-spinner fa-pulse"}))||c.default.createElement(w.default,{cta:{txt:"Changer mon mot de passe",class:"btn-primary btn-block px-4",link:"/",visible:!0,tpl:"BtnBootstrapSubmit"}}))," ")," ")}},{key:"renderInfoForgetPwd",value:function(){var e=this,t=this.state.successInfoForgetPwd;return c.default.createElement("div",null,c.default.createElement("div",{className:"alert alert-info"}," ",t&&c.default.createElement("div",null,c.default.createElement("p",null,"Un email vous a été envoyé.Il contient un lien pour réinitialiser votre mot de passe.",c.default.createElement("br",null),"Ce lien n 'est valable que 2 heures. "),c.default.createElement("p",null,"Si vous n 'avez pas reçu d' email, vérifiez vos spams ou recommencez la procédure.")),!t&&c.default.createElement("div",null,c.default.createElement("p",null," Aucun compte Wifeo ne correspond à cette adresse email ")," ")," ")," ",c.default.createElement("div",{className:"text-right"},c.default.createElement(w.default,{cta:{txt:"Retour",class:"btn-primary",link:"/",visible:!0,onAction:function(){t?e.backToLogin():e.forgetPwd()}}})," "," ")," ")}},{key:"renderNewPasswordSuccess",value:function(){var e=this;return c.default.createElement("div",null,c.default.createElement("h2",null," Changement du mot de passe ")," ",c.default.createElement("br",null),c.default.createElement("div",{class:"alert alert-info"},c.default.createElement("p",null," Votre mot de passe vient d'etre modifié."),c.default.createElement("p",null," Vous pouvez desormais vous reconnecter. ")," "),c.default.createElement("div",{class:"text-right"},c.default.createElement(w.default,{cta:{txt:"e connecter",class:"btn-success",link:"/",visible:!0,onAction:function(){e.backToLogin()}}})," "," "))}},{key:"renderNewPassword",value:function(){var e=this.props.uiSchema,t=this.state,n=t.schema4,a=t.pwdHasChanged,o=t.pendingRequest,i=this.doChangePwdValidation,r=this.CustomFieldTemplate,s=this.validateDoublePwd;return!a&&c.default.createElement("div",null,c.default.createElement("div",{className:"login__header"}," Mot de Passe oublié ")," ",c.default.createElement(u.default,{schema:n,FieldTemplate:r,onError:N("errors"),onSubmit:i,showErrorList:!1,liveValidate:!0,validate:s,uiSchema:e},c.default.createElement("div",{className:"text-center"}," ",o&&c.default.createElement("i",{className:"fas fa-spinner fa-pulse"})||c.default.createElement(w.default,{cta:{txt:"Changer mon mot de passe",class:"btn-primary btn-block px-4",link:"/",visible:!0,tpl:"BtnBootstrapSubmit"}})," ")," ")," ")||this.renderNewPasswordSuccess()}},{key:"render",value:function(){var e=this.state,t=e.loginForm,n=e.forgetPwdForm,a=e.showInfoForgetPwd,o=e.showNewPwdForm;return c.default.createElement(v.default,this.props,c.default.createElement("div",{className:"login__container"}," ",o&&this.renderNewPassword(),!o&&t&&!n&&this.renderLogin(),!o&&!t&&!n&&this.renderRegister(),!o&&n&&!a&&this.renderForgetPwd(),!o&&n&&a&&this.renderInfoForgetPwd()," ")," ",c.default.createElement("iframe",{ref:this.adminFrame,height:"0px",id:"iframeContent",name:"content",frameBorder:"0",src:k+"://editor."+S+"/external_login"})," ")}}]),t}(l.Component);C.defaultProps={prefixClass:"",startOn:"login",loginRedirect:k+"://editor."+S+"/dashboard/",mode:"view",sectionCss:"",bg:{class:"bg-white",img:{path:"",class:""}},master_mode:!1,loginForm:{type:"login",schema:{title:"",description:"",type:"object",required:["email","password"],properties:{email:{type:"string",format:"email",title:"Email"},password:{type:"string",title:"Mot de Passe",placeholder:"Mot de passe",minLength:5}}}},registerForm:{type:"register",schema:{title:"",description:"",type:"object",required:["email","password"],properties:{email:{type:"string",format:"email",title:"Email"},password:{type:"string",title:"Mot de Passe",minLength:5}}}},forgetPwdForm:{type:"forgetPwd",schema:{title:"",description:"",type:"object",required:["email"],properties:{email:{type:"string",format:"email",title:"Email"}}}},newPwdForm:{type:"newPwdForm",schema:{title:"",description:"",type:"object",required:["password","repeat_password"],properties:{password:{type:"string",title:"Mot de Passe",minLength:5},repeat_password:{type:"string",title:"Confirmation du mot de passe",minLength:5}}}},uiSchema:{email:{"ui:placeholder":"Courriel"},password:{"ui:placeholder":"Mot de passe","ui:widget":"password"},repeat_password:{"ui:placeholder":"Confirmation du mot de passe","ui:widget":"password"}}},t.default=C},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=a},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t,n){var a=n(9);"string"==typeof a&&(a=[[e.i,a,""]]);n(11)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){t=e.exports=n(10)(),t.push([e.i,'.login__container{max-width:390px;margin:1rem auto}.login__header{text-align:center}.btns-forget-pwd{display:inline-flex}.login-choice,.login-choice span{text-align:center;width:100%}.login-choice span{font:400 16px/1.5 Sailec-Regular,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;list-style:none;box-sizing:inherit;margin-bottom:0;font-family:Sailec-Regular;color:#5b6987;display:grid;font-size:16px;line-height:26px;align-items:center;grid-template-columns:minmax(20px,1fr) auto minmax(20px,1fr);grid-gap:19px}.login-choice span:after,.login-choice span:before{content:"";border-top:1px solid #e5e8ed}',""])},function(e,t,n){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(a[i]=!0)}for(o=0;o<t.length;o++){var r=t[o];"number"==typeof r[0]&&a[r[0]]||(n&&!r[2]?r[2]=n:n&&(r[2]="("+r[2]+") and ("+n+")"),e.push(r))}},e}},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var a=e[n],o=f[a.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](a.parts[i]);for(;i<a.parts.length;i++)o.parts.push(l(a.parts[i],t))}else{for(var r=[],i=0;i<a.parts.length;i++)r.push(l(a.parts[i],t));f[a.id]={id:a.id,refs:1,parts:r}}}}function a(e){for(var t=[],n={},a=0;a<e.length;a++){var o=e[a],i=o[0],r=o[1],s=o[2],l=o[3],c={css:r,media:s,sourceMap:l};n[i]?n[i].parts.push(c):t.push(n[i]={id:i,parts:[c]})}return t}function o(e,t){var n=h(),a=b[b.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function r(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",o(e,t),t}function l(e,t){var n,a,o;if(t.singleton){var l=v++;n=g||(g=r(t)),a=c.bind(null,n,l,!1),o=c.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),a=u.bind(null,n),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=r(t),a=d.bind(null,n),o=function(){i(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else o()}}function c(e,t,n,a){var o=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function d(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function u(e,t){var n=t.css,a=t.sourceMap;a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},m=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,v=0,b=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=m()),void 0===t.insertAt&&(t.insertAt="bottom");var o=a(e);return n(o,t),function(e){for(var i=[],r=0;r<o.length;r++){var s=o[r],l=f[s.id];l.refs--,i.push(l)}if(e){n(a(e),t)}for(var r=0;r<i.length;r++){var l=i[r];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}])});