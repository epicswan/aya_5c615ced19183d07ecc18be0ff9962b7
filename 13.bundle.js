(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1277:function(t,e,r){"use strict";r.r(e);var n=r(0),o=r.n(n),c=r(729),a=r(17),i=r.n(a),u=r(46);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m(t);if(e){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}i.a._css;var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(a,t);var e,r,n,c=y(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),h(b(e=c.call(this,t)),"getOrder",(function(t,e){var r={img:"left"},n={img:"right"};switch(e){case 1:return r;case 2:return n;case 3:return t%2==0?r:n;case 4:return t%2==0?n:r;default:return r}})),h(b(e),"nbImgInLayout",-1),e.state={},e.refsCards=[],e}return e=a,(r=[{key:"componentDidUpdate",value:function(){this.nbImgInLayout=-1}},{key:"render",value:function(){var t=this,e=this.nbImgInLayout,r=this.props,n=r.layoutBlocks,c=r.mode,a=(r.cfgToolbarMedia,r.propsToolbar,r.tpl),i=r._onAction,s=r.orderCard;return n.map((function(r,n){return e++,o.a.createElement("div",{key:"col-idx-".concat(n),className:r.colCss},r.cards.map((function(r,f){var p=t.getOrder(n,s);return o.a.createElement("div",{key:"card-".concat(f),className:"d-flex align-items-start py-2 w-100"},o.a.createElement(u.a,l({},t.props,{ref:function(e){t.refsCards.push(e)},mode:c,key:"0",order:p,onAction:i,tpl:r.card.tpl||a,card:r.card,index:e})))})))}))}}])&&f(e.prototype,r),n&&f(e,n),a}(n.Component);v.defaultProps={layoutBlocks:[]},v.displayName="RenderLayoutElement";var g=v;function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w=["blocks","canAddItems"];function j(){return(j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function C(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},c=Object.keys(t);for(n=0;n<c.length;n++)r=c[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?Object(arguments[e]):{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){x(t,e,r[e])}))}return t}function P(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=R(t);if(e){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return E(this,r)}}function E(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?I(t):e}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var A=i.a._css,L=i.a._reactSortableHoc,B=(L.SortableContainer,L.arrayMove,L.sortableHandle,function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}(i,t);var e,r,n,a=S(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),x(I(e=a.call(this,t)),"getOrder",(function(t,e){var r={img:"left"},n={img:"right"};switch(e){case 1:return r;case 2:return n;case 3:return t%2==0?r:n;case 4:return t%2==0?n:r;default:return r}})),e.state={grid:{1:"",2:"col-md-6",3:"col-md-4",4:"col-md-3"}},e}return e=i,(r=[{key:"onClickImg",value:function(t){}},{key:"_onAction",value:function(t){"edit"===this.props.mode&&(t.params&&"img"===t.params.type||this.props.onAction(t))}},{key:"getGrid",value:function(t,e){var r=this.state.grid,n=r[t]||r[1];return A(e,"col-12",n,"d-flex","align-items-start","w-100")}},{key:"createLayout",value:function(t){var e=this,r=[],n=this.props,o=n.special,c=n.gridCss,a=n.cardsInRow,i=n.prefixCss,u=n.specialLayout;if(o){var s=0,l=u.pairMode;t.forEach((function(t,e){if(s%2===l&&e%3==0||s%2!==l&&e%3==2)r.push({type:"col-one-card",colCss:"col-12 col-sm-8",cards:[{type:"card",card:k({},t)}]}),s%2!==l&&s++;else{var n=r[r.length-1];n&&"col-multi-card"===n.type&&n.cards.length<2?(n.cards.push({type:"card",card:k({},t)}),s%2===l&&s++):r.push({type:"col-multi-card",colCss:"col-12 col-sm-4",cards:[{type:"card",card:k({},t)}]})}}))}else t.forEach((function(t,n){var o=""!==c&&c||e.getGrid(a,i);r.push({type:"col-one-card",colCss:o,cards:[{type:"card",card:k({},t)}]})}));return r}},{key:"render",value:function(){var t=this.props,e=t.blocks,r=(t.canAddItems,C(t,w)),n=(this.props.onAction,this.props),a=n.prefixCss,i=(n.cfgToolbarMedia,n.mode),u=n.cardsInRow,s=n.gridCss,l=(n.msgAddItem,n.tpl),f=n.orderCard,p=n.special,y=n.styleContainerCards,d=(e.find((function(t){return"title"===t.name}))||{title:null}).title,b=(e.find((function(t){return"stitle"===t.name}))||{stitle:null}).stitle,m=e.filter((function(t){return"card"===t.name})),h=(""!==s&&s||this.getGrid(u,a),this.createLayout(m)),v=k({},this.props,{layoutBlocks:h,mode:i,tpl:l,_onAction:this._onAction.bind(this),orderCard:f});return o.a.createElement(c.a,j({title:d,stitle:b},r),o.a.createElement("div",{className:A(a,"row",!p&&"justify-content-center"),style:y},o.a.createElement(g,v)))}}])&&P(e.prototype,r),n&&P(e,n),i}(n.Component));B.defaultProps={prefixCss:"",mode:"view",containerCss:"",sectionCss:"",canAddItems:!0,estFormation:!1,formationId:null,produitId:null,tpl:"Cards",orderCard:1,bg:{class:"bg-white",img:{path:"",class:""}},gridCss:"",cardsInRow:3,special:!1,specialLayout:{pairMode:0},styleContainerCards:{},blocks:[]},B.displayName="CardsRcpt";e.default=B}}]);