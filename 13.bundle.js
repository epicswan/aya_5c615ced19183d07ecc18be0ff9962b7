(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1327:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),l=d(i),s=d(a(528)),o=d(a(167)),u=d(a(562)),c=d(a(49)),f=d(a(35));function d(e){return e&&e.__esModule?e:{default:e}}var p=f.default._store.getEnv(),m=p.scheme,g=p.domain,b=p.subdomain,h=p.apiProd,v=p.domainApi,C=(m+"://"+(h?b:"blog")+"."+(h?v:g)).replace("__API__","blog");a(9)().format();var y=o.default.CancelToken,k=f.default._css,P=f.default._getSrcSet,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.cachedItems=null,a.blogModule=f.default._store.getUidSite("blog");var n={1:"col",2:"col-md-6",3:"col-md-4",4:"col-md-3"};if(a.props.items.items.length>0){var r=a.props.items,i=r.numItems,s=r.page,o=r.totalItems;a.state={cancelToken:null,forcePage:1,inLoading:!0,items:a.transformItems(a.props.items.items),numItems:i,page:s,totalItems:o,grid:n}}else a.state={cancelToken:null,forcePage:1,items:[],grid:n,inLoading:!0};return a.refArticles=l.default.createRef(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"getGrid",value:function(e,t){var a=this.state.grid,n=this.props.widthClass,r=a[e]||a[0];return void 0===e&&(r="col-md-12"===n?a[0]:a[1]),k(t,"col-12",r)}},{key:"getItems",value:function(e,t){return"edit"===this.props.mode&&(t.no_cache=!0),new Promise((function(a,n){o.default.get(e,{cancelToken:new y((function(e){e})),params:t}).then((function(e){a(e)})).catch((function(e){n(e)}))}))}},{key:"moreItem",value:function(){this.props.onAction({action:"click_new_item",data:{}})}},{key:"componentDidUpdate",value:function(e){e.tpl!==this.props.tpl&&this.cachedItems&&this.setState({items:this.transformItems(this.cachedItems)})}},{key:"componentDidMount",value:function(){this.loadItems(1,"init")}},{key:"loadItems",value:function(e,t){var a=this,n=this.blogModule&&this.blogModule.distant_id||this.props.idBlog,r=C+"/public/blogs/"+n+"/articles";this.props.categorie&&void 0!==this.props.categorie.id&&(r=C+"/public/categories/"+this.props.categorie.id+"/articles");var i={page:e};this.getItems(r,i).then((function(e){var n=e.data.items,r=e.data,i=r.numItems,l=r.page,s=r.totalItems;n=a.transformItems(n),a.setState({items:n,numItems:i,page:l,totalItems:s,inLoading:!1},(function(){if("page_change"===t){var e=a.refArticles.current;if(e){var n=e.querySelector('[card-index="0"]');$("html, body").animate({scrollTop:$(n).offset().top-55},750)}}}))})).catch((function(e){return console.log("erreur!!",e)}))}},{key:"transformItems",value:function(e){this.cachedItems=e;var t=this.props,a=t.tpl;t.blocks;return e.map((function(e){var t=e.article_histories[0],r=t.src_set&&P(JSON.parse(t.src_set)),i={active:!0,class:"",link:"/blog/"+e.slug,txt:"Lire la suite",icon:"",target:"_self"};return n({},e,{title:{txt:e.title,class:"",visible:!0},txt:{txt:t.description,class:"",visible:!0},link:i,linkOnCard:n({},i,{active:!0}),item:{link:i,img:{path:t.image,css:"img-fluid"},tpl:"Card2"===a?"bgImgLink":"imgLink",visible:t.image&&"https://mediacache.epicred.fr/4X6DE68rOO9oeeAGN6wlzbLgPTU=/1920x/https://media.epicred.fr/media/cache/original/all/5c1901e87c038.png"!==t.image,srcSet:r}})}))}},{key:"onActionPagination",value:function(e){var t=this;"page_change"===e.action&&this.setState({inLoading:!0},(function(){t.loadItems(e.data.nextPage,e.action)}))}},{key:"getOrder",value:function(e){var t={img:"left"},a={img:"right"};switch(this.props.orderCard){case 1:return t;case 2:return a;case 3:return e%2==0?t:a;case 4:return e%2==0?a:t;default:return t}}},{key:"render",value:function(){var e=this,t=this.props,a=t.blocks,r=t.bgCards,i=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(t,["blocks","bgCards"]),o=this.props,f=o.prefixCss,d=o.mode,p=o.msgAddItem,m=(o.widthClass,o.tpl),g=o.onManageModule,b=o.cardsInRow,h=o.mepOpts,v=o.mep,C=this.state,y=C.totalItems,P=C.numItems,_=C.forcePage,N=C.inLoading,x=_&&_-1||null,w=Math.ceil(y/P),O=(a.find((function(e){return"title"===e.name}))||{title:null}).title,L=this.state.items;return l.default.createElement(s.default,n({title:O},i),N&&l.default.createElement("div",{className:"text-center"},l.default.createElement("i",{className:"fas fa-spinner fa-pulse"})),!N&&0==y&&l.default.createElement("div",{className:"text-center mx-auto my-5"},"Aucun article ne semble en ligne actuellement."),l.default.createElement("div",{style:"edit"===d&&{padding:"1rem"}||{},className:k("","edit"===d&&"we-overlay")},l.default.createElement("div",{ref:this.refArticles,"data-app-listing":!0,className:k("","row","justify-content-center")},L.map((function(t,a){var i=e.getOrder(a);return l.default.createElement("div",{key:a,"card-index":a,className:k(f,e.getGrid(b,f),"py-2")},l.default.createElement(c.default,{order:i,mode:"view",card:n({},t,{bg:r}),tpl:m,mep:v,prefixCss:f,mepOpts:h}))}))),"edit"===d&&l.default.createElement("div",{style:{boxShadow:"0 0 5px #333",cursor:"pointer"},className:"we-overlay-body we-d-flex we-justify-content-center we-align-items-center",onClick:function(e){e.preventDefault(),e.stopPropagation(),g()}},l.default.createElement("button",{style:{zIndex:"1"},className:k("we-","btn","btn-dark","bg-dark"),onClick:function(e){e.preventDefault(),e.stopPropagation(),g()}},l.default.createElement("i",{className:"fas fa-pen-nib"})," ",p))),w>1&&l.default.createElement(u.default,{forcePage:x,pageCount:w,onAction:function(t){return e.onActionPagination(t)}}))}}]),t}(i.Component);_.defaultProps={prefixCss:"",mep:null,mode:"view",sectionCss:"",bg:{class:"bg-white",img:{path:"",class:""}},tpl:"Card2",widthClass:"col-md-12",orderCard:{img:"left"},onManageModule:function(){},blocks:[{name:"title",title:{txt:"BlogiBloga",class:"w-100"}},{name:"stitle",stitle:{txt:"Mon blog à moi",class:""}},{name:"card",pathItem:"",typeItem:""}],msgAddItem:"Gérer le blog",categorie:null,items:{items:[]}},t.default=_},1444:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(1327),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default},562:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(581),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default},581:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),i=s(r),l=s(a(582));function s(e){return e&&e.__esModule?e:{default:e}}var o=s(a(35)).default._css,u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"handlePageClick",value:function(e){this.props.onAction({action:"page_change",data:{nextPage:e.selected+1}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.prefixCss,n=t.posContainer;return i.default.createElement("nav",{className:o(a,"d-flex","justify-content-center")},i.default.createElement(l.default,{previousLabel:"❮",forcePage:this.props.forcePage,initialPage:0,nextLabel:"❯",breakLabel:i.default.createElement("div",{className:"page-link"},"..."),breakClassName:"page-item",pageCount:this.props.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,pageClassName:"page-item",pageLinkClassName:"page-link",nextClassName:"page-item",previousClassName:"page-item",previousLinkClassName:"page-link",nextLinkClassName:"page-link",onPageChange:function(t){return e.handlePageClick(t)},containerClassName:o(a,"pagination",n),subContainerClassName:"pages pagination",activeClassName:"active",disableInitialCallback:!0}))}}]),t}(r.Component);u.defaultProps={prefixCss:"",pageCount:1,posContainer:"",onAction:function(){},forcePage:null},t.default=u},582:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(583),i=(n=r)&&n.__esModule?n:{default:n};t.default=i.default},583:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),i=u(r),l=u(a(2)),s=u(a(584)),o=u(a(585));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handlePreviousPage=function(e){var t=a.state.selected;e.preventDefault?e.preventDefault():e.returnValue=!1,t>0&&a.handlePageSelected(t-1,e)},a.handleNextPage=function(e){var t=a.state.selected,n=a.props.pageCount;e.preventDefault?e.preventDefault():e.returnValue=!1,t<n-1&&a.handlePageSelected(t+1,e)},a.handlePageSelected=function(e,t){t.preventDefault?t.preventDefault():t.returnValue=!1,a.state.selected!==e&&(a.setState({selected:e}),a.callCallback(e))},a.callCallback=function(e){void 0!==a.props.onPageChange&&"function"==typeof a.props.onPageChange&&a.props.onPageChange({selected:e})},a.pagination=function(){var e=[],t=a.props,n=t.pageRangeDisplayed,r=t.pageCount,l=t.marginPagesDisplayed,s=t.breakLabel,u=t.breakClassName,c=a.state.selected;if(r<=n)for(var f=0;f<r;f++)e.push(a.getPageElement(f));else{var d=n/2,p=n-d;c>r-n/2?d=n-(p=r-c):c<n/2&&(p=n-(d=c));var m=void 0,g=void 0,b=void 0,h=function(e){return a.getPageElement(e)};for(m=0;m<r;m++)(g=m+1)<=l||g>r-l||m>=c-d&&m<=c+p?e.push(h(m)):s&&e[e.length-1]!==b&&(b=i.default.createElement(o.default,{key:m,breakLabel:s,breakClassName:u}),e.push(b))}return e},a.state={selected:e.initialPage?e.initialPage:e.forcePage?e.forcePage:0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,a=e.disableInitialCallback;void 0===t||a||this.callCallback(t)}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.forcePage&&this.props.forcePage!==e.forcePage&&this.setState({selected:e.forcePage})}},{key:"hrefBuilder",value:function(e){var t=this.props,a=t.hrefBuilder,n=t.pageCount;if(a&&e!==this.state.selected&&e>=0&&e<n)return a(e+1)}},{key:"getPageElement",value:function(e){var t=this.state.selected,a=this.props,n=a.pageClassName,r=a.pageLinkClassName,l=a.activeClassName,o=a.activeLinkClassName,u=a.extraAriaContext;return i.default.createElement(s.default,{key:e,onClick:this.handlePageSelected.bind(null,e),selected:t===e,pageClassName:n,pageLinkClassName:r,activeClassName:l,activeLinkClassName:o,extraAriaContext:u,href:this.hrefBuilder(e),page:e+1})}},{key:"render",value:function(){var e=this.props,t=e.disabledClassName,a=e.previousClassName,n=e.nextClassName,r=e.pageCount,l=e.containerClassName,s=e.previousLinkClassName,o=e.previousLabel,u=e.nextLinkClassName,c=e.nextLabel,f=this.state.selected,d=a+(0===f?" "+t:""),p=n+(f===r-1?" "+t:"");return i.default.createElement("ul",{className:l},i.default.createElement("li",{className:d},i.default.createElement("a",{onClick:this.handlePreviousPage,className:s,href:this.hrefBuilder(f-1),tabIndex:"0",role:"button",onKeyPress:this.handlePreviousPage},o)),this.pagination(),i.default.createElement("li",{className:p},i.default.createElement("a",{onClick:this.handleNextPage,className:u,href:this.hrefBuilder(f+1),tabIndex:"0",role:"button",onKeyPress:this.handleNextPage},c)))}}]),t}(r.Component);c.propTypes={pageCount:l.default.number.isRequired,pageRangeDisplayed:l.default.number.isRequired,marginPagesDisplayed:l.default.number.isRequired,previousLabel:l.default.node,nextLabel:l.default.node,breakLabel:l.default.node,hrefBuilder:l.default.func,onPageChange:l.default.func,initialPage:l.default.number,forcePage:l.default.number,disableInitialCallback:l.default.bool,containerClassName:l.default.string,pageClassName:l.default.string,pageLinkClassName:l.default.string,activeClassName:l.default.string,activeLinkClassName:l.default.string,previousClassName:l.default.string,nextClassName:l.default.string,previousLinkClassName:l.default.string,nextLinkClassName:l.default.string,disabledClassName:l.default.string,breakClassName:l.default.string},c.defaultProps={pageCount:10,pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousClassName:"previous",nextClassName:"next",previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1},t.default=c},584:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(0),i=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.pageClassName,a=e.pageLinkClassName,n=e.onClick,r=e.href,l="Page "+e.page+(e.extraAriaContext?" "+e.extraAriaContext:""),s=null;return e.selected&&(s="page",l="Page "+e.page+" is your current page",t=void 0!==t?t+" "+e.activeClassName:e.activeClassName,void 0!==a?(a=a,void 0!==e.activeLinkClassName&&(a=a+" "+e.activeLinkClassName)):a=e.activeLinkClassName),i.default.createElement("li",{className:t},i.default.createElement("a",{onClick:n,role:"button",className:a,href:r,tabIndex:"0","aria-label":l,"aria-current":s,onKeyPress:n},e.page))}},585:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(0),i=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){var t=e.breakLabel,a=e.breakClassName||"break";return i.default.createElement("li",{className:a},t)}}}]);