{"version":3,"sources":["./src/app/blog/blog-routing.module.ts","./src/app/blog/blog.module.ts","./src/app/blog/components/accueil/accueil.component.html","./src/app/blog/components/accueil/accueil.component.ts","./src/app/blog/components/categories-list/categories-list.component.html","./src/app/blog/components/categories-list/categories-list.component.ts","./src/app/blog/components/edit/edit.component.html","./src/app/blog/components/edit/edit.component.ts","./src/app/blog/components/list/list.component.html","./src/app/blog/components/list/list.component.ts","./src/app/blog/components/main/main.component.html","./src/app/blog/components/main/main.component.ts","./src/app/blog/components/navigation-sidebar/navigation-sidebar.component.html","./src/app/blog/components/navigation-sidebar/navigation-sidebar.component.ts","./src/app/blog/components/pagination/pagination.component.html","./src/app/blog/components/pagination/pagination.component.ts","./src/app/blog/pages/apercu-article/apercu-article.component.html","./src/app/blog/pages/apercu-article/apercu-article.component.ts","./src/app/blog/services/blog.service.ts","./src/app/shared/components/tooltip-icon/tooltip-icon.component.html"],"names":[],"mappings":"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","file":"blog.module.7e8cf8da05d16d4aaf3a.chunk.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { MainComponent } from \"./components/main/main.component\";\r\nimport { AccueilComponent } from \"./components/accueil/accueil.component\";\r\nimport { EditComponent } from \"./components/edit/edit.component\";\r\nimport { CategoriesListComponent } from \"./components/categories-list/categories-list.component\";\r\nimport { PendingChangesGuard } from \"../shared/_guards/pending-changes.guard\";\r\nimport { ApercuArticleComponent } from \"./pages/apercu-article/apercu-article.component\";\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: \"\",\r\n        component: MainComponent,\r\n        canDeactivate: [PendingChangesGuard],\r\n        children: [\r\n            { path: \"articles\", component: AccueilComponent },\r\n            {\r\n                path: \"articles/edit/:id\",\r\n                component: EditComponent\r\n            },\r\n            {\r\n                path: \"articles/nouveau\",\r\n                component: EditComponent\r\n            },\r\n            { path: \"categories\", component: CategoriesListComponent },\r\n            // { path: \"apercu/article/:id\", component: ApercuArticleComponent },\r\n            { path: \"apercu/article\", component: ApercuArticleComponent },\r\n\r\n            { path: \"**\", redirectTo: \"articles\" }\r\n        ]\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class BlogRoutingModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/blog-routing.module.ts","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\n\r\nimport { BlogRoutingModule } from \"./blog-routing.module\";\r\nimport { MainComponent } from \"./components/main/main.component\";\r\nimport { AccueilComponent } from \"./components/accueil/accueil.component\";\r\nimport { SharedModule } from \"../shared/shared.module\";\r\nimport { ListComponent } from \"./components/list/list.component\";\r\nimport { PaginationComponent } from \"./components/pagination/pagination.component\";\r\nimport { EditComponent } from \"./components/edit/edit.component\";\r\nimport { BlogService } from \"./services/blog.service\";\r\nimport { CategoriesListComponent } from \"./components/categories-list/categories-list.component\";\r\nimport { NavigationSidebarComponent } from \"./components/navigation-sidebar/navigation-sidebar.component\";\r\nimport { ApercuArticleComponent } from './pages/apercu-article/apercu-article.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, BlogRoutingModule, SharedModule],\r\n    declarations: [\r\n        MainComponent,\r\n        AccueilComponent,\r\n        ListComponent,\r\n        PaginationComponent,\r\n        EditComponent,\r\n        CategoriesListComponent,\r\n        NavigationSidebarComponent,\r\n        ApercuArticleComponent\r\n    ],\r\n    providers: [BlogService]\r\n})\r\nexport class BlogModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/blog.module.ts","<!-- <app-sidebar [iconBack]=\"{ show: true }\" (back)=\"goTo('home')\">\r\n    <ng-container role=\"titleHeader\"> Blog </ng-container>\r\n    <ng-container role=\"menu\">\r\n        <div class=\"app-separator--black\"></div>\r\n\r\n        <blog-navigation-sidebar></blog-navigation-sidebar>\r\n    </ng-container>\r\n\r\n    <ng-container role=\"menu-closed\">\r\n        <button\r\n            routerLink=\"/blog/articles/nouveau\"\r\n            tooltip=\"Créer un nouveau post\"\r\n            [options]=\"{\r\n                'z-index': 1060,\r\n                placement: 'right',\r\n                'display-mobile': false\r\n            }\"\r\n            class=\"we-btn we-btn-sm we-btn-primary we-btn-rounded\"\r\n        >\r\n            <i class=\"fal fa-pen-fancy\"></i>\r\n        </button>\r\n    </ng-container>\r\n</app-sidebar> -->\r\n\r\n<app-main-content [innerNavbar]=\"true\" [showBreadcrum]=\"true\">\r\n    <ng-container role=\"buttons\">\r\n<!--         <button\r\n            (click)=\"goToNewPost()\"\r\n            class=\"we-btn we-btn-primary we-btn-rounded\"\r\n        >\r\n            <i class=\"fal fa-pen-fancy\"></i> Créer un nouvel article\r\n        </button> -->\r\n    </ng-container>\r\n    <ng-container role=\"main\">\r\n        <div\r\n            *ngIf=\"showLimit\"\r\n            class=\"we-container we-py-2 we-my-2 we-card we-text-center\"\r\n        >\r\n            <app-permission [except]=\"permService.PLAN.PREMIUM\">\r\n                <div class=\"we-mb-2\">\r\n                    Vous avez atteint la limite de\r\n                    {{ permService.LIMIT.NB_POSTS_BLOG | getLimit }}\r\n                    articles.\r\n                </div>\r\n                <app-link-to-plans [useLink]=\"true\"></app-link-to-plans>\r\n            </app-permission>\r\n            <app-permission [for]=\"[permService.PLAN.PREMIUM]\">\r\n                Vous ne pouvez pas ajouter plus de\r\n                {{ permService.LIMIT.NB_POSTS_BLOG | getLimit }}\r\n                articles\r\n            </app-permission>\r\n            <button\r\n                type=\"button\"\r\n                class=\"we-close\"\r\n                aria-label=\"Close\"\r\n                style=\"position: absolute;\r\n            right: 10px;\r\n            top: 5px;\"\r\n                (click)=\"showLimit = false\"\r\n            >\r\n                <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n        </div>\r\n        <blog-list></blog-list>\r\n    </ng-container>\r\n</app-main-content>\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/accueil/accueil.component.html","import {\r\n    Component,\r\n    OnInit,\r\n    ViewChild,\r\n    TemplateRef,\r\n    AfterViewInit,\r\n    ChangeDetectorRef\r\n} from \"@angular/core\";\r\nimport { MenuItem } from \"../../../shared/classes/menu\";\r\nimport { BlogService } from \"../../services/blog.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Subscription } from \"rxjs/Subscription\";\r\nimport { ListComponent } from \"../list/list.component\";\r\nimport { PermissionService } from \"../../../shared/services/permission.service\";\r\n\r\ndeclare var $: any;\r\n\r\n@Component({\r\n    selector: \"blog-accueil\",\r\n    templateUrl: \"./accueil.component.html\",\r\n    styleUrls: [\"./accueil.component.scss\"]\r\n})\r\nexport class AccueilComponent implements OnInit {\r\n    subscription: Subscription;\r\n    showLimit = false;\r\n\r\n    @ViewChild(ListComponent) blogList: ListComponent;\r\n\r\n    actions = {\r\n        refresh_list_accueil: data => this.refreshList()\r\n    };\r\n\r\n    constructor(\r\n        private blogService: BlogService,\r\n        private router: Router,\r\n        public permService: PermissionService\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.subscription = this.blogService.events.subscribe(\r\n            $e => this.actions[$e.action] && this.actions[$e.action]($e)\r\n        );\r\n    }\r\n\r\n    refreshList() {\r\n        // this.blogList.getPublish();\r\n        // this.blogList.getUnPublish();\r\n    }\r\n\r\n    goTo(where: string) {\r\n        if (where === \"home\") {\r\n            this.router.navigate([\"/\"]);\r\n        }\r\n    }\r\n\r\n    goToNewPost() {\r\n        this.showLimit = this.blogService.hasReachedMaxNbPosts();\r\n        if (!this.showLimit) {\r\n            this.router.navigateByUrl(\"/blog/articles/nouveau\");\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/accueil/accueil.component.ts","<app-sidebar>\r\n    <ng-container role=\"titleHeader\"> Catégories </ng-container>\r\n    <ng-container role=\"menu\">\r\n        <div class=\"app-sidebar-menu\">\r\n            <button routerLink=\"/blog/categorie/nouveau\" class=\"we-btn we-btn-primary we-btn-block we-btn-rounded\">\r\n                <i class=\"fal fa-pen-fancy\"></i> Créer une nouvelle catégorie\r\n            </button>\r\n        </div>\r\n        <div class=\"app-separator--black\"></div>\r\n\r\n        <blog-navigation-sidebar></blog-navigation-sidebar>\r\n    </ng-container>\r\n</app-sidebar>\r\n\r\n<app-main-content>\r\n    <div role=\"main\" class=\"we-px-5 we-container\">\r\n        <div class=\"we-row\">\r\n            <div class=\"we-col-12 we-text-right\">\r\n                <!--\r\n                    <a\r\n                        routerLink=\"/dashboard/blog/articles/nouveau\"\r\n                        class=\"we-btn we-btn-primary\"\r\n                        >Créer un article\r\n                    </a>\r\n                -->\r\n                <!-- <pre>{{ showLists | json }}</pre> -->\r\n            </div>\r\n\r\n            <div></div>\r\n\r\n            <div class=\"we-d-inline-flex we-align-items-center we-w-100\">\r\n                <div class=\"we-d-inline-flex we-align-items-center we-h5\">Catégorie(s) ({{ blogService.categories?.length || 0 }})</div>\r\n            </div>\r\n\r\n            <div *ngIf=\"showList\" class=\"we-w-100\">\r\n                <div *ngFor=\"let item of blogService.categories\" class=\"\">\r\n                    <div class=\"we-p-3 we-card we-card-default blog__listing-item\">\r\n                        <div class=\"we-d-flex we-align-items-center\">\r\n                            <!--\r\n                                <img\r\n                                    src=\"{{item.image}}\"\r\n                                    class=\"blog__list-avatar\"\r\n                                />\r\n                            -->\r\n                            <div class=\"blog__list-title we-mx-1 we-mx-sm-2\">\r\n                                <strong>{{ item.name }}</strong>\r\n                            </div>\r\n                            <div class=\"blog__list-btns\">\r\n                                <div class=\"we-d-flex we-justify-content-end\">\r\n                                    <a routerLink=\"/blog/articles/edit/{{ item.id }}\" class=\"we-btn we-btn-outline-primary we-btn-rounded\">\r\n                                        Renommer</a\r\n                                    >\r\n                                    <!--\r\n                                        <button\r\n                                            class=\"we-btn we-btn-danger\"\r\n                                            (click)=\"wantDelete(item, true)\"\r\n                                        >\r\n                                            <i class=\"fas fa-trash-alt\"></i>\r\n                                        </button>\r\n                                    -->\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <!--\r\n        <app-modal\r\n            #modalDeletePost\r\n            sizeModal=\"lg\"\r\n            [style]=\"{ zIndex: 99999 }\"\r\n            (onHidden)=\"itemToDelete = null\"\r\n        >\r\n            <h5 class=\"we-modal-title\">Attention !</h5>\r\n            <div class=\"we-modal-body\">\r\n                Voulez-vous vraiment supprimer le post {{ itemToDelete?.name }} ?\r\n            </div>\r\n            <div class=\"we-modal-footer\">\r\n                <app-button\r\n                    [label]=\"'Annuler'\"\r\n                    [className]=\"'we-btn we-btn-secondary'\"\r\n                    [attr]=\"[{ name: 'data-dismiss', value: 'modal' }]\"\r\n                ></app-button>\r\n                <app-button\r\n                    [label]=\"'Supprimer ce post'\"\r\n                    [className]=\"'we-btn we-btn-danger'\"\r\n                    (onClick)=\"deletePost()\"\r\n                ></app-button>\r\n            </div>\r\n        </app-modal>\r\n    -->\r\n</app-main-content>\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/categories-list/categories-list.component.html","import { Component, OnInit } from \"@angular/core\";\r\nimport { BlogService } from \"../../services/blog.service\";\r\nimport { BlogsService } from \"../../../api-blog\";\r\nimport { StoreService } from \"../../../shared/services/store.service\";\r\n\r\n/**\r\n * Page qui liste les categories\r\n * Non affichés\r\n */\r\n@Component({\r\n    selector: \"blog-categories-list\",\r\n    templateUrl: \"./categories-list.component.html\",\r\n    styleUrls: [\"./categories-list.component.scss\"],\r\n})\r\nexport class CategoriesListComponent implements OnInit {\r\n    showList: boolean = true;\r\n    constructor(\r\n        private blogApi: BlogsService,\r\n        public blogService: BlogService,\r\n        public storeService: StoreService\r\n    ) {}\r\n\r\n    ngOnInit() {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/categories-list/categories-list.component.ts","<ng-container>\r\n    <div class=\"we-container\">\r\n        <div class=\"we-row\">\r\n\r\n            <app-loading [active]=\"!loaded\" [useDiv]=\"false\"></app-loading>\r\n            <div class=\"we-col-8\" *ngIf=\"loaded\">\r\n                <div class=\"we-card\">\r\n                    <div>\r\n                        <h5 class=\"we-mb-0\">\r\n                            <button class=\"we-btn we-btn-link\">Général</button>\r\n                        </h5>\r\n                    </div>\r\n    \r\n                    <div>\r\n                        <div class=\"we-card-body\">\r\n                            <div *ngIf=\"f1.submitted && !title.valid\" class=\"we-form-group\" [ngClass]=\"{\r\n                                                    'has-error': f1.submitted && !title.valid\r\n                                                }\">\r\n                                Titre non valide\r\n                            </div>\r\n                            <form #f1=\"ngForm\" novalidate class=\"\">\r\n                                <div class=\"we-form-group\">\r\n                                    <label for=\"image_cover\">\r\n                                        Image de couverture\r\n                                        <!--\r\n                                                            <app-tooltip-icon\r\n                                                                [msg]=\"tooltips.imgCover\"\r\n                                                                [options]=\"tooltips.opt\"\r\n                                                            ></app-tooltip-icon>\r\n                                                        -->\r\n                                    </label>\r\n                                    <div class=\"pos-rel\">\r\n                                        <img id=\"image_cover\" (click)=\"openModalLibImg()\" [src]=\"\r\n                                                                version.image &&\r\n                                                                version.image !== ''\r\n                                                                    ? version.image\r\n                                                                    : appService.PLACEHOLDER_IMG\r\n                                                            \"\r\n                                            class=\"we-d-flex we-img-fluid we-card-img-top img-version we-mx-auto\" title=\"\"\r\n                                            alt=\"\" />\r\n                                        <div class=\"media_toolbar_actions\"\r\n                                            style=\"padding-top: 0px; margin-right: 8px; z-index: 3;top: 0;\"\r\n                                            *ngIf=\"version.image !== ''\">\r\n                                            <div class=\"we-d-flex we-flex-row-reverse\">\r\n                                                <span class=\"media_toolbar_actions_items\">\r\n                                                    <button (click)=\"\r\n                                                                            deleteVersionImage()\r\n                                                                        \" title=\"Supprimer\"\r\n                                                        class=\"we-btn we-btn-sm we-btn-secondary\">\r\n                                                        <i class=\"fas fa-times-circle\"></i>\r\n                                                    </button>\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n    \r\n                                <div class=\"we-form-group\">\r\n                                    <label for=\"version-title\">Titre</label>\r\n                                    <input id=\"version-title\" type=\"text\" [ngClass]=\"{\r\n                                                            'we-form-control': true,\r\n                                                            'we-is-invalid':\r\n                                                                f1.submitted && !title.valid\r\n                                                        }\" id=\"\" aria-describedby=\"\" placeholder=\"...\" name=\"title\"\r\n                                        [(ngModel)]=\"version.title\" (ngModelChange)=\"hasSaveChanges = false\"\r\n                                        #title=\"ngModel\" required />\r\n                                    <div *ngIf=\"f1.submitted && !title.valid\" class=\"we-help-block\">\r\n                                        Le titre est obligatoire\r\n                                    </div>\r\n                                </div>\r\n    \r\n                                <div class=\"we-form-group\">\r\n                                    <label for=\"version-description\">Description</label>\r\n                                    <textarea id=\"version-description\" class=\"we-form-control\" placeholder=\"...\" rows=\"6\"\r\n                                        name=\"body\" [(ngModel)]=\"version.description\"\r\n                                        (ngModelChange)=\"hasSaveChanges = false\" #description=\"ngModel\" required></textarea>\r\n                                    <div *ngIf=\"f1.submitted && !description.valid\" class=\"help-block\">\r\n                                        La description est obligatoire\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class=\"we-col-4\" *ngIf=\"loaded\">\r\n                <div class=\"we-card\">\r\n                    <div>\r\n                        <h5 class=\"we-mb-0\">\r\n                            <button class=\"we-btn we-btn-link collapsed\">\r\n                                Catégories\r\n                            </button>\r\n                        </h5>\r\n                    </div>\r\n                    <div>\r\n                        <div class=\"we-card-body\">\r\n                            <div class=\"app__list__item we-d-flex we-justify-content-between\">\r\n                                <div>\r\n                                    Ajouter des catégories\r\n                                    <app-tooltip-icon [msg]=\"blogService.labels.helperTags\" [options]=\"{ 'z-index': 1031 }\">\r\n                                    </app-tooltip-icon>\r\n                                </div>\r\n                                <div>\r\n                                    {{ articleCategories?.length || 0 }}/{{\r\n                                                        maxCategories\r\n                                                    }}\r\n                                </div>\r\n                            </div>\r\n                            <!-- @Bug Quand l'input dropdown s'affiche, [addOnBlur] ne marche pas -->\r\n                            <tag-input [theme]=\"'bootstrap'\" [clearOnBlur]=\"true\" [identifyBy]=\"'id'\"\r\n                                (onAdd)=\"onItemAdded($event)\" (onRemove)=\"hasSaveChanges = false\" [maxItems]=\"maxCategories\"\r\n                                [displayBy]=\"'name'\" [(ngModel)]=\"articleCategories\" [dragZone]=\"'zone1'\" [editable]=\"false\"\r\n                                [placeholder]=\"'Nom de la catégorie'\" [addOnBlur]=\"true\"\r\n                                [secondaryPlaceholder]=\"'Ajouter une catégorie'\" [validators]=\"validators\">\r\n                                <tag-input-dropdown [focusFirstElement]=\"true\" [dynamicUpdate]=\"false\" [zIndex]=\"10000\"\r\n                                    [autocompleteItems]=\"blogService.categories\" [displayBy]=\"'name'\" [identifyBy]=\"'id'\"\r\n                                    [appendToBody]=\"false\" [keepOpen]=\"false\"></tag-input-dropdown>\r\n                            </tag-input>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          \r\n        </div>\r\n\r\n        <div class=\"we-col-12 we-text-right\" *ngIf=\"loaded\">\r\n            <ng-container role=\"buttons\" *ngTemplateOutlet=\"btnsActions\"></ng-container>\r\n        </div>\r\n\r\n    </div>\r\n</ng-container>\r\n\r\n\r\n\r\n<app-modal #modalMediaLib sizeModal=\"xl\" (onShown)=\"onShown(imgLib)\" (onHidden)=\"wantAddImg = false\"\r\n    [styleWrapper]=\"{ zIndex: 1599 }\">\r\n    <h5 class=\"we-modal-title\">Media Librairie</h5>\r\n\r\n    <div class=\"we-modal-body\">\r\n        <app-image-lib *ngIf=\"wantAddImg\" #imgLib [uid]=\"uid\" [conf]=\"confLibImg\" (onSave)=\"closeModalMedia($event)\"\r\n            (onSelect)=\"closeModalMedia($event)\"></app-image-lib>\r\n    </div>\r\n</app-modal>\r\n\r\n<ng-template #btnsActions>\r\n    <button class=\"we-btn we-btn-primary we-btn-rounded blog__btn-save\" (click)=\"save(false)\">\r\n        <i *ngIf=\"!loaders.btns.save\" class=\"fal fa-save we-mr-2\"></i>\r\n        <app-loading [active]=\"loaders.btns.save\" [useDiv]=\"false\"></app-loading>\r\n        Enregistrer\r\n    </button>\r\n</ng-template>\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/edit/edit.component.html","import {\r\n    Component,\r\n    OnInit,\r\n    OnDestroy,\r\n    ViewChild,\r\n    HostListener,\r\n    AfterViewInit,\r\n    Input,\r\n    OnChanges,\r\n    Output,\r\n    EventEmitter,\r\n} from \"@angular/core\";\r\nimport {\r\n    Site,\r\n    SitesService,\r\n    PageType,\r\n    VersionsService as VersionsPage,\r\n    ContainerType,\r\n    PagesService,\r\n    PageHistory,\r\n    Page,\r\n    MetaType,\r\n    Meta,\r\n} from \"../../../api\";\r\n\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\n\r\nimport { ModalComponent } from \"../../../shared/components/modal/modal.component\";\r\nimport { Subject } from \"rxjs/Subject\";\r\nimport {\r\n    BlogsService,\r\n    ArticlesService,\r\n    VersionsService,\r\n    ArticleType,\r\n    Article,\r\n    ArticleHistory,\r\n} from \"../../../api-blog\";\r\nimport { ImageLibComponent } from \"../../../shared/components/image-lib/image-lib.component\";\r\nimport { NgForm, FormBuilder, FormGroup, FormControl } from \"@angular/forms\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { ImageLibService } from \"../../../shared/services/image-lib.service\";\r\nimport { StoreService } from \"../../../shared/services/store.service\";\r\nimport { BlogService } from \"../../services/blog.service\";\r\nimport { ComponentCanDeactivate } from \"../../../shared/_guards/pending-changes.guard\";\r\nimport { slug, getSrcSet } from \"../../../shared/utils/utils\";\r\nimport { ErrorsService } from \"../../../global/services/errors.service\";\r\nimport { ModulesService } from \"../../../api/api/modules.service\";\r\nimport { Breadcrumb } from \"../../../shared/components/breadcrumb/breadcrumb.component\";\r\nimport { AppService } from \"../../../global/services/app.service\";\r\nimport { DraftEditorComponent } from \"../../../shared/components/draft-editor/draft-editor.component\";\r\nimport { ACTIONS_NAV_HEADER } from \"../../../shared/components/nav-header/nav-header.component\";\r\nimport { PermissionService } from \"../../../shared/services/permission.service\";\r\n\r\n/**\r\n * Page qui crée ou edit un article de blog\r\n * Change l'image l'image et descriptions dans les listings\r\n * Change le seo\r\n */\r\n@Component({\r\n    selector: \"blog-edit\",\r\n    templateUrl: \"./edit.component.html\",\r\n    styleUrls: [\"./edit.component.scss\"],\r\n})\r\nexport class EditComponent\r\n    implements OnInit, OnChanges, OnDestroy, ComponentCanDeactivate, AfterViewInit {\r\n    // @HostListener(\"window:beforeunload\") allows us to also guard against browser refresh, close, etc.\r\n    @HostListener(\"window:beforeunload\")\r\n    canDeactivate(): Observable<boolean> | boolean {\r\n        // insert logic to check if there are pending changes here;\r\n        // returning true will navigate without confirmation\r\n        // returning false will show a confirm dialog before navigating away\r\n        return this.hasSaveChanges;\r\n    }\r\n    // tslint:disable-next-line:member-ordering\r\n    @ViewChild(ModalComponent)\r\n    modalMediaLib: ModalComponent;\r\n    @ViewChild(ImageLibComponent) imgLib: ImageLibComponent;\r\n    @ViewChild(NgForm) f1: NgForm;\r\n    @Output() onSavedInfo: EventEmitter<any> = new EventEmitter();\r\n\r\n\r\n    form: FormGroup;\r\n    // Array des sites de l'user\r\n    sites: Site[];\r\n\r\n    // determine l'ordre du listing des sites\r\n    listConf = {\r\n        order: \"\",\r\n    };\r\n\r\n    // indique si les sites sont chargés\r\n    areLoadedSites: boolean = false;\r\n\r\n    state: any = {};\r\n\r\n    createSite$ = new Subject();\r\n\r\n    articleCategories = [];\r\n\r\n    btnEditArticle = {\r\n        label: \"Editer\",\r\n        icon: { active: true, className: \"fas fa-pencil-alt\" },\r\n        className: \"we-btn we-btn-block we-btn-secondary we-mb-2\",\r\n    };\r\n\r\n    btnDeleteArticle = {\r\n        label: \"Supprimer\",\r\n        icon: { active: true, className: \"far fa-trash-alt\" },\r\n        className: \"we-btn we-btn-block we-btn-danger\",\r\n    };\r\n\r\n\r\n    article: Article = { title: \"Nouvel Article\" };\r\n\r\n    canAdd: boolean = false;\r\n\r\n    cfg = null;\r\n\r\n    /**\r\n     * config de la librairie d'image\r\n     */\r\n\r\n    confLibImg = {\r\n        tabs: {\r\n            freeImg: { active: true },\r\n            biblio: { active: true },\r\n            internet: { active: true },\r\n            color: { active: false },\r\n        },\r\n    };\r\n\r\n    wantAddImg = false;\r\n\r\n    images = [];\r\n    version: ArticleHistory = { title: \"\", description: \"\", image: \"\" };\r\n    uid = {};\r\n    mode = \"Edition\";\r\n    titleSidebar = \"\";\r\n\r\n    has_draft = false;\r\n    has_loaded = false;\r\n    loaded: boolean = false;\r\n\r\n    hasSaveChanges = true;\r\n\r\n    maxCategories = 10;\r\n\r\n    page: Page = null;\r\n    versionPage: PageHistory = null;\r\n    titleMeta: Meta = { content: \"\", name: \"title\" };\r\n    descMeta: Meta = { content: \"\", name: \"description\" };\r\n    imageSocialMeta: Meta = { \"content\": \"\", \"name\": \"social_image\" };\r\n\r\n    displayers = {\r\n        btns: {\r\n            saveAndPublish: false,\r\n            unpublish: false,\r\n        },\r\n    };\r\n\r\n    loaders = {\r\n        btns: { saveAndPublish: true, save: true, unpublish: true },\r\n        content: true,\r\n        metas: true,\r\n    };\r\n\r\n    pathBlog: string = \"blog/\";\r\n\r\n    pageVersionOnline: PageHistory = null;\r\n\r\n    pathArticle = \"\";\r\n\r\n    sizeArticle = 300000;\r\n    nearLimiteSizeArticle = { firstTime: false, status: false };\r\n\r\n    tooltips = {\r\n        opt: { \"z-index\": 1035 },\r\n        imgCover: \"Cette image apparaitra dans les listings\",\r\n    };\r\n\r\n    breadcrumbs: Breadcrumb[] = [];\r\n\r\n    validators = [this.noDuplicateCats.bind(this)];\r\n    @Input() urlId = null;\r\n\r\n    constructor(\r\n        private articleApi: ArticlesService,\r\n        private versionApi: VersionsService,\r\n        private blogApi: BlogsService,\r\n        private router: Router,\r\n        private storeService: StoreService,\r\n        private route: ActivatedRoute,\r\n        private imgLibService: ImageLibService,\r\n        public blogService: BlogService,\r\n        private siteApi: SitesService,\r\n        private versionPageApi: VersionsPage,\r\n        private pageApi: PagesService,\r\n        private errorsService: ErrorsService,\r\n        private moduleApi: ModulesService,\r\n        public appService: AppService,\r\n        public permService: PermissionService,\r\n\r\n    ) {\r\n        this.form = new FormBuilder().group({\r\n            chips: [[\"chip\"], []],\r\n        });\r\n\r\n        if (typeof this.storeService.curSite !== \"undefined\") {\r\n            this.uid = this.storeService.curSite[\"uid\"];\r\n            let libraryUid = this.storeService.curSite[\"uids\"].filter(\r\n                (uid) => uid.nom === \"files\"\r\n            );\r\n\r\n        }\r\n    }\r\n\r\n    ngOnChanges() {\r\n        this.loaded = false;\r\n        if (this.urlId) {\r\n            this.mode = \"Edition\";\r\n            this.initArticle();\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.urlId = this.route.snapshot.params.id;\r\n        if (this.urlId) {\r\n            this.mode = \"Edition\";\r\n            this.initArticle();\r\n        }\r\n        this.titleSidebar =\r\n            (this.mode === \"Edition\" ? \"Modifier\" : \"Nouvel\") + \" article\";\r\n\r\n        this.breadcrumbs = [\r\n            { label: \"Blog\", url: \"articles/posts\" },\r\n            // {label: 'Articles', url: 'articles/posts'},\r\n            { label: this.titleSidebar, url: \"\" },\r\n        ];\r\n        // this.storeService.loadFont();\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n\r\n    }\r\n\r\n    noDuplicateCats(control: FormControl) {\r\n        const cat = this.articleCategories.find(\r\n            (cat) => cat.name === control.value\r\n        );\r\n        if (cat) {\r\n            return {\r\n                noDuplicateCats: true,\r\n            };\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n\r\n    openModalLibImg() {\r\n        if (!this.wantAddImg) {\r\n            this.wantAddImg = true;\r\n        }\r\n        this.modalMediaLib.open();\r\n    }\r\n\r\n    onShown(imgLib) {\r\n        if (imgLib) {\r\n            imgLib.reset();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Ferme la modal et réenregsitre la social Image\r\n     * @param $event \r\n     */\r\n    closeModalMedia($event) {\r\n        // console.log(\"$event\", $event);\r\n        const srcSet = JSON.stringify($event.img.srcs);\r\n        let image = $event.img.src;\r\n\r\n        if (typeof $event.img.srcOriginal !== \"undefined\") {\r\n            image = $event.img.srcOriginal;\r\n        }\r\n\r\n        this.version[\"image\"] = image;\r\n        this.version[\"srcSet\"] = srcSet;\r\n        delete this.version[\"src_set\"];\r\n        this.hasSaveChanges = false;\r\n        this.modalMediaLib.close();\r\n\r\n\r\n    }\r\n\r\n    saveImg() {\r\n        // this.cd.detectChanges();\r\n        this.imgLib.save();\r\n    }\r\n\r\n\r\n\r\n\r\n    initArticle() {\r\n\r\n        this.blogService.getArticle(this.urlId, (e) => {\r\n            this.article = e;\r\n            this.loaded = true;\r\n            this.articleCategories = e[\"categories\"];\r\n            this.checkDraft(e);\r\n            this.getPagePost();\r\n            this.checkDisplayers();\r\n            this.stateLoadersBtn(false);\r\n        });\r\n\r\n    }\r\n\r\n    publish(status: boolean) {\r\n        if (this.loaders.btns.save) {\r\n            return;\r\n        }\r\n\r\n        if (status) {\r\n            this.save(true, () => {\r\n                this.publishRoutine(status);\r\n            });\r\n        } else {\r\n            this.publishRoutine(status);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Met en ligne l'article\r\n     */\r\n    publishRoutine(status: boolean) {\r\n        this.stateLoadersBtn(true);\r\n        this.article[\"published\"] = status;\r\n        let article = Object.assign({ categories: [] }, this.article);\r\n\r\n        let id = article[\"id\"];\r\n        delete article[\"id\"];\r\n        delete article[\"article_histories\"];\r\n        delete article[\"slug\"];\r\n        delete article[\"created\"];\r\n        delete article[\"updated\"];\r\n\r\n        let categories = this.formatBddCats(this.articleCategories);\r\n\r\n        article[\"categories\"] = categories;\r\n        this.articleApi\r\n            .apiArticlesArticlePut(article, String(id))\r\n            .subscribe((e) => {\r\n                this.hasSaveChanges = true;\r\n\r\n                this.initArticle();\r\n            });\r\n    }\r\n\r\n    public onAddCategorie(item) {\r\n        // console.log(\"tag added:value is \" + item);\r\n    }\r\n\r\n    /**\r\n     * Sauvegarde de l'article, avec ou sans publication en ligne\r\n     */\r\n    save(publish: boolean, onSuccess?: Function) {\r\n\r\n        if (this.loaders.btns.save) {\r\n            return;\r\n        }\r\n\r\n        this.stateLoadersBtn(true);\r\n        const categories = this.formatBddCats(this.articleCategories);\r\n\r\n        /**\r\n         * edition article ayant un id\r\n         */\r\n        if (typeof this.version[\"id\"] !== \"undefined\") {\r\n            this.articleApi\r\n                .apiArticlesArticlePut(\r\n                    {\r\n                        title: this.article.title,\r\n                        url: this.article.url,\r\n                        published: this.article.published,\r\n                        categories,\r\n                    },\r\n                    String(this.article.id)\r\n                )\r\n                .subscribe((article) => {\r\n\r\n                    console.log(\"article mis a jour :\", article);\r\n                    let id = this.version[\"id\"];\r\n\r\n                    let verTemp = Object.assign({}, this.version);\r\n                    if (verTemp[\"src_set\"]) {\r\n                        verTemp[\"srcSet\"] = verTemp[\"src_set\"];\r\n                    }\r\n                    verTemp[\"moduleVersion\"] = verTemp[\"module_version\"];\r\n\r\n                    delete verTemp[\"id\"];\r\n                    delete verTemp[\"updated\"];\r\n                    delete verTemp[\"created\"];\r\n                    delete verTemp[\"online\"];\r\n                    delete verTemp[\"module_version\"];\r\n                    delete verTemp[\"src_set\"];\r\n                    // console.log(\"verTemp !!\", verTemp);\r\n\r\n                    this.versionApi\r\n                        .apiVersionsSlugPut(verTemp, String(id))\r\n                        .subscribe((articleHistory) => {\r\n                            //console.log(\"version a update :\",this.version, articleHistory);\r\n                            if (publish) {\r\n                                if (typeof onSuccess === \"function\") {\r\n                                    onSuccess(articleHistory);\r\n                                    this.onSavedInfo.emit(article);\r\n                                }\r\n                            } else {\r\n                                this.hasSaveChanges = true;\r\n                                this.onSavedInfo.emit(article);\r\n                                this.initArticle();\r\n                            }\r\n                        });\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    ngOnDestroy() {\r\n        this.state = null;\r\n    }\r\n\r\n    formatBddCats(categories) {\r\n        const cats = [];\r\n\r\n        categories.map((cat, index) => (cats[index] = cat.id));\r\n\r\n        return cats;\r\n    }\r\n\r\n    updatePost(data) {\r\n        // this.cd.detectChanges();\r\n        data.item.inEdit = false;\r\n        if (data.name) {\r\n            data.item.name = data.name;\r\n        }\r\n\r\n        const { published, url, id, categories } = data.item.model;\r\n        const article: ArticleType = {\r\n            title: data.item.name,\r\n            url,\r\n            published,\r\n            categories: this.formatBddCats(categories),\r\n        };\r\n        this.blogService.putArticle(article, String(id), () => { });\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * Gestion categories articles\r\n     */\r\n    onItemAdded(tag) {\r\n        // console.log(\"item added tag\", tag);\r\n        let match_tag = {};\r\n\r\n        if (tag.name === tag.id) {\r\n            let match = false;\r\n\r\n            for (let i in this.blogService.categories) {\r\n                if (this.blogService.categories[i].name === tag.name) {\r\n                    match = true;\r\n                    match_tag = this.blogService.categories[i];\r\n                }\r\n            }\r\n\r\n            if (match === false) {\r\n                this.blogService.postCategory(\r\n                    { name: tag.name },\r\n                    (category) => {\r\n                        for (let i in this.articleCategories) {\r\n                            if (this.articleCategories[i].name === tag.name) {\r\n                                this.articleCategories[i] = category;\r\n                            }\r\n                        }\r\n                        this.hasSaveChanges = false;\r\n                    }\r\n                );\r\n            } else {\r\n                for (let i in this.articleCategories) {\r\n                    if (this.articleCategories[i].name === tag.name) {\r\n                        this.articleCategories[i] = match_tag;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // console.log(\"match:\", true);\r\n        }\r\n        this.hasSaveChanges = false;\r\n    }\r\n\r\n\r\n\r\n    goToPosts() {\r\n        this.router.navigate([\"blog\"]);\r\n    }\r\n\r\n\r\n\r\n    /*\r\n   Page de l'article du blog\r\n   */\r\n    getPagePost() {\r\n        this.moduleApi\r\n            .apiSitesSlugModulesModulePagesModuleResourceGet(\r\n                String(this.storeService.curSite.id),\r\n                this.blogService.idModuleBlog,\r\n                String(this.article.id)\r\n            )\r\n            .subscribe(\r\n                (e) => {\r\n                    this.page = e;\r\n                    this.pathArticle = this.page.url;\r\n                    this.getVersionPage();\r\n                },\r\n                (error) => this.errorsService.handleErrorHttp(error)\r\n            );\r\n    }\r\n\r\n    // Version de la page pour le SEO\r\n    getVersionPage() {\r\n        this.pageApi\r\n            .apiPagesSlugVersionsLastGet(String(this.page.id))\r\n            .subscribe((pageHistory) => {\r\n                this.versionPage = pageHistory;\r\n                this.titleMeta = pageHistory.metas.find(\r\n                    (m) => m.name === \"title\"\r\n                );\r\n                this.descMeta = pageHistory.metas.find(\r\n                    (m) => m.name === \"description\"\r\n                );\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Recupere un brouillon ou en créer un \r\n     * @param item \r\n     */\r\n    getDraft(item) {\r\n\r\n        return new Promise((resolve, reject) => {\r\n            //console.log(\"retour systématique d'une version hors-ligne ---> transform en API Call\", item.id, item);\r\n\r\n            const foundOffline = item.article_histories.find(element => element.online == false);\r\n            if (!foundOffline) {\r\n                this.articleApi.apiVersionsArticlePost(item.id).subscribe(b => {\r\n                    //console.log(\"Clone de l'article --> utilisation version\", b.id);\r\n                    resolve(b);\r\n                });\r\n\r\n            } else {\r\n                resolve(foundOffline);\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    checkDraft(article) {\r\n\r\n        this.getDraft(article).then(e => {\r\n            //console.log(\"version chargé\", e);\r\n            this.version = e;\r\n            this.has_draft = true;\r\n            this.has_loaded = true;\r\n        });\r\n\r\n        /*         let drafts = Object.assign([], article[\"article_histories\"]);\r\n                let draftNum = drafts.filter((version) => version.online === false);\r\n        \r\n                // si Possède un brouillon\r\n                if (draftNum.length === 1) {\r\n                    this.version = article[\"article_histories\"].filter(\r\n                        (version) => version.online === false\r\n                    )[0];\r\n                    this.has_draft = true;\r\n                    this.has_loaded = true;\r\n                } else {\r\n                    this.version = article[\"article_histories\"].filter(\r\n                        (version) => version.online === true\r\n                    )[0];\r\n                    this.has_draft = false;\r\n                    this.has_loaded = true;\r\n                } */\r\n    }\r\n\r\n    /**\r\n     * Check la visibilité des boutons\r\n     */\r\n    checkDisplayers() {\r\n        this.displayers.btns.saveAndPublish =\r\n            this.has_draft === true || this.article.published === false;\r\n        this.displayers.btns.unpublish = this.article.published === true;\r\n    }\r\n\r\n    stateLoadersBtn(state) {\r\n        this.loaders.btns.save = state;\r\n        this.loaders.btns.unpublish = state;\r\n        this.loaders.btns.saveAndPublish = state;\r\n    }\r\n\r\n\r\n    updateSlug(value) {\r\n        // this.article.url = value;\r\n        this.pathArticle = this.pathBlog + slug(this.article.url);\r\n    }\r\n\r\n\r\n\r\n\r\n    deleteVersionImage() {\r\n        this.version.image = \"\";\r\n        this.hasSaveChanges = false;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/edit/edit.component.ts","<router-outlet></router-outlet>\r\n<div class=\"we-px-5 we-container we-restrict\">\r\n    <div class=\"we-text-right\">\r\n\r\n        <button (click)=\"createNewArticle()\" class=\"we-btn we-btn-primary we-btn-rounded\">\r\n            <app-loading [active]=\"saveArticle\" [useDiv]=\"false\"></app-loading>\r\n            <i class=\"fal fa-pen-fancy\" *ngIf=\"!saveArticle\"></i> Créer un nouvel article\r\n        </button>\r\n\r\n\r\n    </div>\r\n    <div class=\"we-row\">\r\n\r\n        <div class=\"we-d-inline-flex we-align-items-center we-w-100\">\r\n            <div class=\"we-d-inline-flex we-align-items-center we-h5\">\r\n                <button [ngClass]=\"{\r\n                        'we-btn-link': true,\r\n                        'we-text-black': showLists.published\r\n                    }\" (click)=\"showList('published')\">\r\n                    Publié(s) ({{ pagination.totalItems || 0 }})\r\n                </button>\r\n                /\r\n                <button [ngClass]=\"{\r\n                        'we-btn-link': true,\r\n                        'we-text-black': showLists.unpublished\r\n                    }\" (click)=\"showList('unpublished')\">\r\n                    Brouillons ({{ pagination_unpublished.totalItems || 0 }})\r\n                </button>\r\n            </div>\r\n            <!--\r\n                <div\r\n                    class=\"we-d-inline-flex we-align-items-center we-h6 we-ml-auto\"\r\n                >\r\n                    <span>Filtrer par: Tous les posts</span>\r\n                    <i class=\"we-ml-2 fal fa-angle-down\"></i>\r\n                </div>\r\n            -->\r\n        </div>\r\n\r\n        <div class=\"we-w-100\">\r\n            <app-loading title=\"chargement de la liste...\" [active]=\"!loadedList\"></app-loading>\r\n        </div>\r\n\r\n        <div *ngIf=\"showLists.published && loadedList\" class=\"we-w-100\">\r\n            <div *ngFor=\"let item of articles\" class=\"\">\r\n                <div class=\"we-card we-card-default blog__listing-item\">\r\n                    <div class=\"we-d-flex we-align-items-center\" (click)=\"clickOnRowItem($event, item, true)\">\r\n                        <img src=\"{{ item.image || appService.PLACEHOLDER_IMG }}\" class=\"blog__list-avatar\" />\r\n                        <div class=\"blog__list-title we-mx-1 we-mx-sm-2\">\r\n                            <strong>{{ item.title }}</strong>\r\n                            <!-- <small>Utilisateur</small> -->\r\n                        </div>\r\n                        <div class=\"blog__list-time we-mx-1 we-ml-sm-4\">\r\n                            {{ formatDate(item.updated) }}\r\n                        </div>\r\n                        <div class=\"blog__list-time we-mx-auto\">\r\n                            <span class=\"we-d-none we-d-lg-block we-badge we-badge-warning\"\r\n                                *ngIf=\"hasDraft(item.article_histories)\">&nbsp; Modifications non publiées\r\n                            </span>\r\n                            <span class=\"we-d-block we-d-lg-none we-badge we-badge-warning\"\r\n                                *ngIf=\"hasDraft(item.article_histories)\" title=\"Modifications non publiées\"><i\r\n                                    class=\"fal fa-exclamation-triangle\"></i>\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"blog__list-btns\">\r\n\r\n\r\n\r\n\r\n\r\n                            <div class=\"we-d-flex we-justify-content-end\">\r\n\r\n\r\n                                <button (click)=\"getPageLinkedToItem(item)\"\r\n                                    class=\"we-btn we-btn-outline-primary we-btn-rounded\">\r\n                                    <app-loading [active]=\"inRedirect\" [useDiv]=\"false\"></app-loading>\r\n                                    <i *ngIf=\"!inRedirect\">Modifier</i>\r\n                                </button>\r\n\r\n                                <button class=\"we-btn we-btn-danger we-ml-1\" (click)=\"wantDelete(item, true)\">\r\n                                    <i class=\"fas fa-trash-alt\"></i>\r\n                                </button>\r\n\r\n                                <div class=\"we-dropdown we-ml-1\">\r\n                                    <button class=\"we-btn we-btn-secondary  we-btn-rounded\" type=\"button\"\r\n                                        id=\"dropdownMenuButton\" data-toggle=\"weDropdown\" aria-haspopup=\"true\"\r\n                                        aria-expanded=\"false\">\r\n                                        <i class=\"fas fa-ellipsis-h\"></i>\r\n                                    </button>\r\n                                    <div class=\"we-dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\r\n\r\n                                        <!-- -->\r\n\r\n                                        <button *ngIf=\"hasDraft(item.article_histories)\"\r\n                                            (click)=\"publishPage(item,true)\"\r\n                                            class=\" we-dropdown-item we-btn we-btn-link\">\r\n                                            <i class=\"fal fa-rocket we-mr-2 ng-star-inserted\"></i> Publier\r\n                                        </button>\r\n\r\n                                        <button (click)=\"publishPage(item, false)\"\r\n                                            class=\"we-dropdown-item we-btn we-btn-link\">\r\n                                            <i class=\"fal fa-pen-fancy ng-star-inserted\"></i> Dépublier\r\n                                        </button>\r\n\r\n                                        <button (click)=\"modifyInfosListing(item)\"\r\n                                            class=\"we-dropdown-item we-btn we-btn-link\">\r\n                                            <i class=\"fas fa-id-card\"></i> Informations\r\n                                        </button>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"we-clearfix we-mt-2\">\r\n                <div class=\"hint-text\">\r\n                    <b>{{\r\n                        (pagination.page - 1) * pagination.numItems +\r\n                            pagination.items.length || 0\r\n                    }}</b>\r\n                    affichés sur <b>{{ pagination.totalItems || 0 }}</b>\r\n                </div>\r\n\r\n                <app-pagination *ngIf=\"pagination_loaded === true\" [numItems]=\"pagination.totalItems\"\r\n                    [pageSize]=\"pagination.numItems\" [currentPage]=\"pagination.page\" style=\"float:right\"\r\n                    (load)=\"onChangePagePublish($event)\"></app-pagination>\r\n            </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"showLists.unpublished && loadedList\" class=\"we-w-100\">\r\n            <div *ngFor=\"let item of articles_unpublished\" class=\"\">\r\n                <div class=\"we-card we-card-default blog__listing-item\">\r\n                    <div class=\"we-d-flex we-align-items-center\" (click)=\"clickOnRowItem($event, item, false)\">\r\n                        <img src=\"{{ item.image || appService.PLACEHOLDER_IMG }}\" class=\"blog__list-avatar\" />\r\n                        <div class=\"blog__list-title we-mx-1 we-mx-sm-2\">\r\n                            <strong>{{ item.title }}</strong>\r\n                            <!-- <small>Utilisateur</small> -->\r\n                        </div>\r\n                        <div class=\"blog__list-time we-mx-1 we-ml-sm-4\">\r\n                            {{ formatDate(item.updated) }}\r\n                        </div>\r\n                        <div class=\"blog__list-btns\">\r\n                            <div class=\"we-d-flex we-justify-content-end\">\r\n\r\n\r\n                                <button (click)=\"getPageLinkedToItem(item)\"\r\n                                    class=\"we-btn we-btn-outline-primary we-btn-rounded\">\r\n                                    <app-loading [active]=\"inRedirect\" [useDiv]=\"false\"></app-loading>\r\n                                    <i *ngIf=\"!inRedirect\">Modifier</i>\r\n                                </button>\r\n\r\n                                <button class=\"we-btn we-btn-danger we-ml-1\" (click)=\"wantDelete(item, true)\">\r\n                                    <i class=\"fas fa-trash-alt\"></i>\r\n                                </button>\r\n\r\n                                <div class=\"we-dropdown we-ml-1\">\r\n                                    <button class=\"we-btn we-btn-secondary  we-btn-rounded\" type=\"button\"\r\n                                        id=\"dropdownMenuButton\" data-toggle=\"weDropdown\" aria-haspopup=\"true\"\r\n                                        aria-expanded=\"false\">\r\n                                        <i class=\"fas fa-ellipsis-h\"></i>\r\n                                    </button>\r\n                                    <div class=\"we-dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\r\n\r\n                                        <button (click)=\"publishPage(item,true)\"\r\n                                            class=\" we-dropdown-item we-btn we-btn-link\">\r\n                                            <i class=\"fal fa-rocket we-mr-2 ng-star-inserted\"></i> Publier\r\n                                        </button>\r\n\r\n                                        <button (click)=\"modifyInfosListing(item)\"\r\n                                            class=\"we-dropdown-item we-btn we-btn-link\">\r\n                                            <i class=\"fas fa-id-card\"></i> Informations\r\n                                        </button>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"we-clearfix we-mt-2\">\r\n                <div class=\"hint-text\">\r\n                    <b>{{\r\n                        (pagination_unpublished.page - 1) *\r\n                            pagination_unpublished.numItems +\r\n                            pagination_unpublished.items.length || 0\r\n                    }}</b>\r\n                    affichés sur\r\n                    <b>{{ pagination_unpublished.totalItems || 0 }}</b>\r\n                </div>\r\n\r\n                <app-pagination *ngIf=\"pagination_unpublished_loaded === true\"\r\n                    [numItems]=\"pagination_unpublished.totalItems\" [pageSize]=\"pagination_unpublished.numItems\"\r\n                    [currentPage]=\"pagination_unpublished.page\" style=\"float:right\"\r\n                    (load)=\"onChangePageUnPublish($event)\"></app-pagination>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<app-modal #modalInfos sizeModal=\"xl\" [styleWrapper]=\"{ zIndex: 1505 }\">\r\n    <h5 class=\"we-modal-title\"> Informations</h5>\r\n    <div class=\"we-modal-body\">\r\n        <blog-edit [urlId]=\"selectedItem['id']\" (onSavedInfo)=\"closeModalInfos($event)\"></blog-edit>\r\n    </div>\r\n    <div class=\"we-modal-footer\">\r\n\r\n    </div>\r\n</app-modal>\r\n\r\n<app-modal #modalDeletePost sizeModal=\"lg\" [style]=\"{ zIndex: 99999 }\" (onHidden)=\"itemToDelete = null\">\r\n    <h5 class=\"we-modal-title\">Attention !</h5>\r\n    <div class=\"we-modal-body\">\r\n        Voulez-vous vraiment supprimer le post {{ itemToDelete?.name }} ?\r\n    </div>\r\n    <div class=\"we-modal-footer\">\r\n        <app-button [label]=\"'Annuler'\" [className]=\"'we-btn we-btn-secondary'\"\r\n            [attr]=\"[{ name: 'data-dismiss', value: 'modal' }]\"></app-button>\r\n        <app-button [label]=\"'Supprimer ce post'\" [className]=\"'we-btn we-btn-danger'\" (onClick)=\"deletePost()\">\r\n        </app-button>\r\n    </div>\r\n</app-modal>\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/list/list.component.html","import { Component, OnInit, OnDestroy, ViewChild, OnChanges } from \"@angular/core\";\r\nimport { Site, ModulesService, PageType, SitesService, PagesService } from \"../../../api\";\r\nimport { StoreService } from \"../../../shared/services/store.service\";\r\nimport { ModalComponent } from \"../../../shared/components/modal/modal.component\";\r\nimport { Subject } from \"rxjs/Subject\";\r\nimport {\r\n    BlogsService,\r\n    ArticlePagination,\r\n    ArticlesService,\r\n    VersionsService,\r\n    ArticleHistory,\r\n} from \"../../../api-blog\";\r\nimport { ImageLibComponent } from \"../../../shared/components/image-lib/image-lib.component\";\r\nimport { BlogService } from \"../../services/blog.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { AppService } from \"../../../global/services/app.service\";\r\nimport { ErrorsService } from \"../../../global/services/errors.service\";\r\nimport { resolve } from \"url\";\r\n\r\ndeclare var moment: any;\r\n\r\n/**\r\n * Page qui liste les articles et les brouillons\r\n * + suppression\r\n */\r\n@Component({\r\n    selector: \"blog-list\",\r\n    templateUrl: \"./list.component.html\",\r\n    styleUrls: [\"./list.component.scss\"],\r\n})\r\nexport class ListComponent implements OnInit, OnDestroy {\r\n\r\n    @ViewChild(ImageLibComponent) imglib: ImageLibComponent;\r\n    @ViewChild(\"modalDeletePost\")\r\n    modalDeletePost: ModalComponent;\r\n    @ViewChild(\"modalInfos\") modalInfos: ModalComponent;\r\n\r\n\r\n    state: any = {};\r\n\r\n    btnEditArticle = {\r\n        label: \"Editer\",\r\n        icon: { active: true, className: \"fas fa-pencil-alt\" },\r\n        className: \"we-btn we-btn-block we-btn-secondary we-mb-2\",\r\n    };\r\n\r\n    btnDeleteArticle = {\r\n        label: \"Supprimer\",\r\n        icon: { active: true, className: \"far fa-trash-alt\" },\r\n        className: \"we-btn we-btn-block we-btn-danger\",\r\n    };\r\n\r\n    articles = [];\r\n    articles_unpublished = [];\r\n\r\n    pagination: ArticlePagination = { items: [] };\r\n    pagination_unpublished: ArticlePagination = { items: [] };\r\n\r\n    pagination_loaded = false;\r\n    pagination_unpublished_loaded = false;\r\n\r\n    page_published = 1;\r\n    page_unpublished = 1;\r\n\r\n    actions = {};\r\n\r\n    showLists = { published: true, unpublished: false };\r\n\r\n    wantAddImg = false;\r\n    saveArticle = false;\r\n\r\n    ItemImageToUpdate = null;\r\n\r\n    confLibImg = {\r\n        tabs: {\r\n            freeImg: { active: true },\r\n            biblio: { active: true },\r\n            internet: { active: true },\r\n            color: { active: false },\r\n        },\r\n    };\r\n\r\n    itemToDelete = null;\r\n    reloadPublish = null;\r\n    loadedList = false;\r\n    selectedItem = {};\r\n    inRedirect = false; // on est entrain de rediriger vers editeur\r\n\r\n    constructor(\r\n        private blogApi: BlogsService,\r\n        private moduleApi: ModulesService,\r\n        private blogService: BlogService,\r\n        private articleApi: ArticlesService,\r\n        private versionApi: VersionsService,\r\n        public storeService: StoreService,\r\n        private siteApi: SitesService,\r\n        private pageApi: PagesService,\r\n        private router: Router,\r\n        private errorsService: ErrorsService,\r\n        public appService: AppService\r\n    ) { }\r\n\r\n    formatDate(d) {\r\n        return moment(d).fromNow();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.getPublish();\r\n        this.getUnPublish();\r\n    }\r\n\r\n    onChangePagePublish($event) {\r\n        this.page_published = $event.page;\r\n        this.getPublish();\r\n    }\r\n\r\n    onChangePageUnPublish($event) {\r\n        this.page_unpublished = $event.page;\r\n        this.getUnPublish();\r\n    }\r\n\r\n    wantDelete(item, publish) {\r\n        this.itemToDelete = item;\r\n        this.reloadPublish = publish;\r\n        this.modalDeletePost.open();\r\n    }\r\n\r\n    deletePost() {\r\n        const idToDelete = this.itemToDelete.id;\r\n        this.articleApi\r\n            .apiArticlesArticleDelete(String(idToDelete))\r\n            .subscribe(() => {\r\n                this.loadedList = false;\r\n                this.getPublish();\r\n                this.getUnPublish();\r\n                this.blogService.nbPosts--;\r\n                this.modalDeletePost.close();\r\n            });\r\n    }\r\n\r\n    getPublish() {\r\n        this.blogApi\r\n            .apiBlogsSlugArticlesGet(\r\n                this.storeService.blogId,\r\n                this.page_published,\r\n                1\r\n            )\r\n            .subscribe((e) => {\r\n                this.pagination = e;\r\n                let articles = e.items;\r\n                articles.map((article) => {\r\n                    const versions = article[\"article_histories\"];\r\n                    if (versions) {\r\n                        versions.map((version) => {\r\n                            if (version[\"online\"] == true) {\r\n                                article[\"image\"] = version[\"image\"];\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n                this.articles = articles;\r\n                this.pagination_loaded = true;\r\n                this.loadedList = true;\r\n            });\r\n    }\r\n\r\n    hasDraft(e) {\r\n        if (e.filter((version) => version.online === false).length == 1) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    getUnPublish() {\r\n        this.blogApi\r\n            .apiBlogsSlugArticlesGet(\r\n                this.storeService.blogId,\r\n                this.page_unpublished,\r\n                0\r\n            )\r\n            .subscribe((e) => {\r\n                this.pagination_unpublished = e;\r\n                let articles = e.items;\r\n\r\n                articles.map((article) => {\r\n                    const versions = article[\"article_histories\"];\r\n                    if (versions) {\r\n                        versions.map((version) => {\r\n                            if (\r\n                                version[\"online\"] == true ||\r\n                                version[\"online\"] == false\r\n                            ) {\r\n                                article[\"image\"] = version[\"image\"];\r\n                                article[\"title\"] = version[\"title\"];\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n                this.articles_unpublished = articles;\r\n                this.pagination_unpublished_loaded = true;\r\n                this.loadedList = true;\r\n            });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        // prevent memory leak when component destroyed\r\n        this.state = null;\r\n    }\r\n\r\n    showList(type: string) {\r\n        this.showLists.published = type === \"published\";\r\n        this.showLists.unpublished = type === \"unpublished\";\r\n    }\r\n\r\n\r\n    /**\r\n     * \r\n     * @param item Modifier les infos Titre/Description/Image pour les listings\r\n     */\r\n    modifyInfosListing(item) {\r\n        this.selectedItem = item;\r\n        this.modalInfos.open();\r\n        // this.router.navigate([\"/blog\", \"articles\", \"edit\", item.id])\r\n    }\r\n\r\n\r\n    closeModalInfos($event) {\r\n        this.modalInfos.close();\r\n        this.loadedList = false;\r\n        this.getPublish();\r\n        this.getUnPublish();\r\n    }\r\n\r\n\r\n    roughScale(x, base) {\r\n        const parsed = parseInt(x, base);\r\n        if (isNaN(parsed)) { return 0; }\r\n        return parsed;\r\n    }\r\n\r\n\r\n    /**\r\n     * \r\n     * @param item Publie la page \r\n     * SI brouillon sans version online , offline --> online\r\n     */\r\n    publishPage(item, status) {\r\n\r\n        this.loadedList = false;\r\n        //console.warn(\"Publie article \" + status + \" la page associé à l'article\", item);\r\n        let statusToInt = (status) ? 1 : 0;\r\n\r\n        //Publie sur l'Api Blog l'article et ecrase la version en ligne par le brouillon\r\n        this.articleApi.apiArticlesArticlePublishesPost(String(item.id), statusToInt)\r\n            .subscribe((e) => {\r\n                //console.log(\"Page publish updated \", e, status);\r\n                if (status) {\r\n                    this.moduleApi\r\n                        .apiSitesSlugModulesModulePagesModuleResourceGet(\r\n                            String(this.storeService.curSite.id),\r\n                            this.blogService.idModuleBlog,\r\n                            String(item.id)\r\n                        )\r\n                        .subscribe(\r\n                            (page) => {\r\n                                //Publie la page sur l'Api Page \r\n                                this.siteApi.apiPagesPagePublishPut(String(page.id)).subscribe(e => {\r\n                                    this.getPublish();\r\n                                    this.getUnPublish();\r\n                                });\r\n                            })\r\n                } else {\r\n                    //pour dépublier, on fait rien le rendu de page lira le statut de l'article comme non-publié et affichera une 404\r\n                    this.getPublish();\r\n                    this.getUnPublish();\r\n                }\r\n\r\n            });\r\n    }\r\n\r\n    inIframe() {\r\n        try {\r\n            return window.self !== window.top;\r\n        } catch (e) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     *  Redirige vers L'editeur\r\n     * @param page la page associé a l'article dans l'editeur \r\n     * @param item l'article\r\n     */\r\n    redirectToPageEditor(page, item) {\r\n\r\n\r\n\r\n        //refresh des listings les ids vont changer au prochain retour\r\n        this.getPublish();\r\n        this.getUnPublish();\r\n\r\n        this.inRedirect = false;\r\n\r\n        const strMsg = JSON.stringify({\r\n            goToModule: \"blog\",\r\n            goToModuleUrl: \"/editeur/pages/blog/\" + page.id,\r\n            page: page,\r\n            item: item\r\n        });\r\n\r\n        parent.postMessage(strMsg, \"*\");\r\n    }\r\n\r\n\r\n\r\n\r\n    /**\r\n     * Recupere un brouillon ou en créer un \r\n     * @param item \r\n     */\r\n    getDraft(item) {\r\n\r\n        return new Promise((resolve, reject) => {\r\n            //console.log(\"retour systématique d'une version hors-ligne ---> transform en API Call\", item.id, item);\r\n\r\n            this.articleApi.apiArticlesArticleGet(item.id).subscribe(\r\n                e => {\r\n                    const foundOffline = item.article_histories.find(element => element.online == false);\r\n                    if (!foundOffline) {\r\n                        this.articleApi.apiVersionsArticlePost(item.id).subscribe(b => {\r\n                            //console.log(\"Clone de l'article --> utilisation version\", b.id);\r\n                            resolve(b);\r\n                        });\r\n\r\n                    } else {\r\n                        resolve(foundOffline);\r\n                    }\r\n                },\r\n                error => {\r\n                    reject();\r\n                    this.errorsService.handleErrorHttp(error);\r\n                }\r\n            );\r\n        });\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * Action sur le bouton modifier du listing\r\n     * @param item l'article    \r\n     * @param status listing des articles publiés ou non-publiés\r\n     */\r\n    getPageLinkedToItem(item) {\r\n\r\n        if (!this.inRedirect) {\r\n            this.inRedirect = true;\r\n            this.moduleApi\r\n                .apiSitesSlugModulesModulePagesModuleResourceGet(\r\n                    String(this.storeService.curSite.id),\r\n                    this.blogService.idModuleBlog,\r\n                    String(item.id)\r\n                )\r\n                .subscribe(\r\n                    (e) => {\r\n\r\n\r\n                        this.getDraft(item).then((brouillon: ArticleHistory) => {\r\n\r\n                            //console.log(\"Redirect to Editor\", \"article :\" + item.id + \" ---> page : \" + e.id,);\r\n\r\n                            //recup la derniere version de page offline si existe\r\n                            let historyversionToUpdate = brouillon;\r\n                            let id = historyversionToUpdate.id;\r\n                            delete historyversionToUpdate.id;\r\n                            delete historyversionToUpdate['module_version']; //bug symfony camelcase\r\n                            delete historyversionToUpdate['src_set']; //bug symfony camelcase\r\n                            delete historyversionToUpdate.online;\r\n                            delete historyversionToUpdate.updated;\r\n                            delete historyversionToUpdate.created;\r\n                            delete historyversionToUpdate.title;\r\n                            delete historyversionToUpdate.body;\r\n                            delete historyversionToUpdate.description;\r\n                            delete historyversionToUpdate.image;\r\n\r\n                            //console.log(\"Nouveau rendu, maj date updated \", id, historyversionToUpdate);\r\n                            historyversionToUpdate.moduleVersion = \"1\";\r\n                            this.versionApi\r\n                                .apiVersionsSlugPatchPut(\r\n                                    historyversionToUpdate,\r\n                                    String(id)\r\n                                )\r\n                                .subscribe((b) => {\r\n                                    this.redirectToPageEditor(e, item);\r\n                                });\r\n\r\n                        });\r\n\r\n\r\n                    },\r\n                    (error) => { }//this.errorsService.handleErrorHttp(error)\r\n                );\r\n\r\n        }\r\n    }\r\n\r\n\r\n    clickOnRowItem(event: Event, item, status) {\r\n        const canNavigate =\r\n            event.srcElement &&\r\n            event.srcElement.nodeName !== \"BUTTON\" &&\r\n            event.srcElement.nodeName !== \"I\";\r\n\r\n        if (canNavigate) {\r\n            this.getPageLinkedToItem(item);\r\n            //this.router.navigate([\"/blog\", \"articles\", \"edit\", item.id]);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Création de l'article,\r\n     * puis sa version,\r\n     * puis la page du site,\r\n     * les metas sont crées par la modal dans l'editeur\r\n     * puis on redirige vers la page dans l'editeur\r\n     */\r\n    createNewArticle() {\r\n\r\n        if (!this.saveArticle) {\r\n            this.saveArticle = true;\r\n\r\n            let version: ArticleHistory = {\r\n                \"moduleVersion\": \"1\",\r\n                \"title\": \"Mon Article\",\r\n                \"description\": \"Proin vel efficitur dolor, non egestas massa. Vestibulum vitae velit diam. Fusce sollicitudin, nisl sed suscipit elementum, augue arcu venenatis tellus, vel sollicitudin tortor leo nec odio. Vivamus ullamcorper odio at velit lacinia pretium. Pellentesque sit amet odio rhoncus, viverra felis vel, ultrices sem. Nullam luctus gravida aliquet.\",\r\n                \"body\": \"Proin vel efficitur dolor, non egestas massa. Vestibulum vitae velit diam. Fusce sollicitudin, nisl sed suscipit elementum, augue arcu venenatis tellus, vel sollicitudin tortor leo nec odio. Vivamus ullamcorper odio at velit lacinia pretium. Pellentesque sit amet odio rhoncus, viverra felis vel, ultrices sem. Nullam luctus gravida aliquet.\",\r\n                \"image\": \"https://images.unsplash.com/photo-1516048015710-7a3b4c86be43?ixlib=rb-0.3.5&s=6aea5ce84923e1ba4653c168dd07e6c5&auto=format&fit=crop&w=1350&q=30\"\r\n            };\r\n\r\n            let uniqid = Math.floor(Date.now() / 1000);\r\n\r\n            //le body de la version sera remplacée par une page offline\r\n            //on verra les mic macs lors de la publication  de la page    \r\n            this.blogApi\r\n                .apiBlogsBlogArticlesPost(\r\n                    {\r\n                        title: \"Mon nouvel article\",\r\n                        url: \"Mon nouvel article \" + uniqid,\r\n                        categories: [],\r\n                    },\r\n                    this.storeService.blogId\r\n                )\r\n                .subscribe((e) => {\r\n                    let article = e;\r\n                    this.versionApi\r\n                        .apiVersionsSlugPut(\r\n                            version,\r\n                            String(e[\"article_histories\"][0].id)\r\n                        )\r\n                        .subscribe((b) => {\r\n                            this.blogService.nbPosts++;\r\n                            this.createPageArticle(article, uniqid);\r\n\r\n                        });\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n    createPageArticle(article, uniqid) {\r\n        const page: PageType = {\r\n            nom: \"Mon article\",\r\n            // url: \"blog/\" + article.slug + \"_\" + article.id,\r\n            url: \"blog/\" + article.slug,\r\n            editor: \"10\", // choper lediteur sur le site\r\n            is_home: false,\r\n            is_error: false,\r\n            // layout: \"1\",\r\n            module: \"1\",\r\n            module_resource: article.id,\r\n            module_page_type: \"article\",\r\n        };\r\n\r\n        this.siteApi\r\n            .apiSitesSitePagesPost(page, String(this.storeService.curSite.id))\r\n            .subscribe(\r\n                (e) => {\r\n                    this.pageApi\r\n                        .apiPagesSlugVersionsLastGet(String(e.id))\r\n                        .subscribe(\r\n                            (pageHistory) => {\r\n                                this.redirectToPageEditor(e, article);\r\n                                this.saveArticle = false;\r\n                            },\r\n                            (error) => {\r\n                                this.errorsService.handleErrorHttp(error);\r\n                            }\r\n                        );\r\n                },\r\n                (error) => alert(this.errorsService.handleErrorHttp(error))\r\n            );\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/list/list.component.ts","<app-sidebar>\r\n    <ng-container role=\"titleHeader\"> Blog </ng-container>\r\n    <ng-container role=\"menu\">\r\n        <div class=\"app-separator--black\"></div>\r\n\r\n        <blog-navigation-sidebar></blog-navigation-sidebar>\r\n    </ng-container>\r\n    <ng-container role=\"menu-closed\">\r\n        <button\r\n            routerLink=\"/blog/articles/nouveau\"\r\n            tooltip=\"Créer un nouveau post\"\r\n            [options]=\"{\r\n                'z-index': 1060,\r\n                placement: 'right',\r\n                'display-mobile': false\r\n            }\"\r\n            class=\"we-btn we-btn-sm we-btn-primary we-btn-rounded\"\r\n        >\r\n            <i class=\"fal fa-pen-fancy\"></i>\r\n        </button>\r\n    </ng-container>\r\n</app-sidebar>\r\n\r\n<ng-container *ngIf=\"blogLoaded; else loader\">\r\n    <router-outlet></router-outlet>\r\n</ng-container>\r\n\r\n<ng-template #loader>\r\n    <app-loading\r\n        title=\"chargement du blog...\"\r\n        size=\"fa-3x\"\r\n        baseClass=\"we-m-auto\"\r\n        [fullscreen]=\"true\"\r\n    >\r\n    </app-loading>\r\n</ng-template>\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/main/main.component.html","import { Component, OnInit, ViewEncapsulation } from \"@angular/core\";\r\nimport { BlogService } from \"../../services/blog.service\";\r\nimport { ModuleService } from \"../../../global/services/module.service\";\r\n\r\n/**\r\n * Point d'entrée du blog\r\n * Activer le blog si necessaire\r\n * Recuperes les categories\r\n * Compte le nombre de posts\r\n */\r\n@Component({\r\n    selector: \"app-main\",\r\n    templateUrl: \"./main.component.html\",\r\n    styleUrls: [\"./main.component.scss\", \"../../blog.scss\"],\r\n    encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class MainComponent implements OnInit {\r\n    blogLoaded: boolean = false;\r\n    catsLoaded: boolean = false;\r\n    constructor(\r\n        private blogService: BlogService,\r\n        private moduleService: ModuleService\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.moduleService.activateModule(\"blog\").then(() => {\r\n            this.blogService.getCategories(() => {\r\n                this.blogService.fetchNbPosts(() => {\r\n                    this.blogLoaded = true;\r\n                });\r\n            });\r\n        });\r\n\r\n        // this.blogService.getBlog(null, () => {\r\n        //     this.blogService.getCategories(() => {\r\n        //         this.blogLoaded = true;\r\n        //     });\r\n        // });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/main/main.component.ts","<!--\r\n    <ul class=\"we-sidebar-nav\">\r\n        <li *ngFor=\"let item of itemsCats; let i = index\">\r\n            <app-menu-item\r\n                [idMenuParent]=\"item.id\"\r\n                [id]=\"item.id\"\r\n                [item]=\"item\"\r\n                [containerCss]=\"containerCssMenuItem\"\r\n                (onAction)=\"handleAction($event)\"\r\n            >\r\n            </app-menu-item>\r\n        </li>\r\n    </ul>\r\n-->\r\n\r\n<app-menu [items]=\"itemsCats\"></app-menu>\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/navigation-sidebar/navigation-sidebar.component.html","import {\r\n    Component,\r\n    OnInit,\r\n    ViewChild,\r\n    TemplateRef,\r\n    ChangeDetectorRef,\r\n} from \"@angular/core\";\r\nimport { BlogService } from \"../../services/blog.service\";\r\nimport { MenuItem } from \"../../../shared/classes/menu\";\r\nimport { ModalComponent } from \"../../../shared/components/modal/modal.component\";\r\nimport { AppConf } from \"../../../global/app.conf\";\r\n\r\ndeclare var $: any;\r\n\r\n/**\r\n * Items listé dans la sidebar\r\n */\r\n@Component({\r\n    selector: \"blog-navigation-sidebar\",\r\n    templateUrl: \"./navigation-sidebar.component.html\",\r\n    styleUrls: [\"./navigation-sidebar.component.scss\"],\r\n})\r\nexport class NavigationSidebarComponent implements OnInit {\r\n    maxCategories = 10;\r\n\r\n    @ViewChild(\"tplPost\") tplPost: TemplateRef<any>;\r\n    @ViewChild(\"tplCat\") tplCat: TemplateRef<any>;\r\n    @ViewChild(\"modalDeletePost\")\r\n    modalDeletePost: ModalComponent;\r\n\r\n    itemToDelete = null;\r\n\r\n    actions = {};\r\n\r\n    itemsCats: MenuItem[] = [\r\n        {\r\n            id: \"blog_list_posts\",\r\n            iconL: { active: true, className: \"fal fa-copy\" },\r\n            iconR: AppConf.NAV_ITEM.iconR,\r\n            name: \"Vos articles\",\r\n            routerLink: \"/blog/articles\",\r\n            className: AppConf.NAV_ITEM.css,\r\n            linkFill: true,\r\n            type: \"page\",\r\n        },\r\n/*         {\r\n            id: \"apercu_article\",\r\n            iconL: { active: true, className: \"fas fa-paint-brush\" },\r\n            iconR: AppConf.NAV_ITEM.iconR,\r\n            name: \"Design des articles\",\r\n            routerLink: \"/blog/apercu/article\",\r\n            className: AppConf.NAV_ITEM.css,\r\n            linkFill: true,\r\n            type: \"page\",\r\n        }, */\r\n    ];\r\n\r\n    constructor(public blogService: BlogService) {}\r\n\r\n    ngOnInit() {}\r\n\r\n    handleAction($e) {\r\n        return $e && this.actions[$e.action] && this.actions[$e.action]($e);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/navigation-sidebar/navigation-sidebar.component.ts","<ul *ngIf=\"pager.pages && pager.pages.length\" class=\"we-pagination\">\r\n        <li class=\"we-page-item\" [ngClass]=\"{'we-disabled':pager.currentPage === 1}\">\r\n            <a class=\"we-page-link\" (click)=\"setPage(1)\"><<</a>\r\n        </li>\r\n        <li class=\"we-page-item\" [ngClass]=\"{'we-disabled':pager.currentPage === 1}\">\r\n            <a class=\"we-page-link\" (click)=\"setPage(pager.currentPage - 1)\"><</a>\r\n        </li>\r\n        <li class=\"we-page-item\" *ngFor=\"let page of pager.pages\" [ngClass]=\"{'we-active':pager.currentPage === page}\">\r\n            <a class=\"we-page-link\" (click)=\"setPage(page)\">{{page}}</a>\r\n        </li>\r\n        <li class=\"we-page-item\" [ngClass]=\"{'we-disabled':pager.currentPage === pager.totalPages}\">\r\n            <a class=\"we-page-link\" (click)=\"setPage(pager.currentPage + 1)\">></a>\r\n        </li>\r\n        <li class=\"we-page-item\" [ngClass]=\"{'we-disabled':pager.currentPage === pager.totalPages}\">\r\n            <a class=\"we-page-link\" (click)=\"setPage(pager.totalPages)\">>></a>\r\n        </li>\r\n    </ul>\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/pagination/pagination.component.html","import { Component, OnInit, OnDestroy, ViewChild, Input, Output, EventEmitter } from \"@angular/core\";\r\n\r\n@Component({\r\n    selector: \"app-pagination\",\r\n    templateUrl: \"./pagination.component.html\",\r\n    styleUrls: [\"./pagination.component.scss\"]\r\n})\r\nexport class PaginationComponent implements OnInit {\r\n    pager: any = {};\r\n\r\n    @Input() numItems: number;\r\n    @Input() pageSize: number;\r\n    @Input() currentPage: number = 1;\r\n    @Output() load: EventEmitter<any> = new EventEmitter();\r\n\r\n    ngOnInit() {\r\n        this.pager = this.getPager(this.numItems, this.currentPage, this.pageSize);\r\n    }\r\n\r\n    setPage(page: number) {\r\n        if (page < 1 || page > this.pager.totalPages) {\r\n            return;\r\n        }\r\n\r\n        // console.log('click pagination');\r\n        this.load.emit({ page: page });\r\n\r\n        this.pager = this.getPager(this.numItems, page, this.pageSize);\r\n    }\r\n\r\n    getPager(totalItems: number, currentPage, pageSize) {\r\n        // calculate total pages\r\n        let totalPages = Math.ceil(totalItems / pageSize);\r\n\r\n        let startPage: number, endPage: number;\r\n\r\n        // if (totalPages <= 10) {\r\n        //     // less than 10 total pages so show all\r\n        //     startPage = 1;\r\n        //     endPage = totalPages;\r\n        // } else {\r\n        //     // more than 10 total pages so calculate start and end pages\r\n        //     if (currentPage <= 6) {\r\n        //         startPage = 1;\r\n        //         endPage = 10;\r\n        //     } else if (currentPage + 4 >= totalPages) {\r\n        //         startPage = totalPages - 9;\r\n        //         endPage = totalPages;\r\n        //     } else {\r\n        //         startPage = currentPage - 5;\r\n        //         endPage = currentPage + 4;\r\n        //     }\r\n        // }\r\n\r\n        if (totalPages <= 5) {\r\n            startPage = 1;\r\n            endPage = totalPages;\r\n        } else {\r\n            if (currentPage <= 3) {\r\n                startPage = 1;\r\n                endPage = 5;\r\n            } else if (currentPage + 1 >= totalPages) {\r\n                startPage = totalPages - 4;\r\n                endPage = totalPages;\r\n            } else {\r\n                startPage = currentPage - 2;\r\n                endPage = currentPage + 2;\r\n            }\r\n        }\r\n\r\n        // calculate start and end item indexes\r\n        let startIndex = (currentPage - 1) * pageSize;\r\n        let endIndex = Math.min(startIndex + pageSize - 1, totalItems - 1);\r\n\r\n        // create an array of pages to ng-repeat in the pager control\r\n\r\n        let pages = Array.from({ length: endPage + 1 - startPage }, (x, i) => i + startPage);\r\n\r\n        // return object with all pager properties required by the view\r\n        return {\r\n            totalItems: totalItems,\r\n            currentPage: currentPage,\r\n            pageSize: pageSize,\r\n            totalPages: totalPages,\r\n            startPage: startPage,\r\n            endPage: endPage,\r\n            startIndex: startIndex,\r\n            endIndex: endIndex,\r\n            pages: pages\r\n        };\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/components/pagination/pagination.component.ts","<app-main-content #mainContent [repeatBtns]=\"true\" [canOpenCustomizer]=\"true\">\r\n    <!-- <ng-container role=\"params\">\r\n        </ng-container> -->\r\n\r\n    <ng-container role=\"main\">\r\n        <div\r\n            [hidden]=\"!canCustomize\"\r\n            style=\"position: absolute;\r\n            z-index: 5;\r\n            right: 0;\r\n            padding-top: 4rem;\"\r\n        >\r\n            <div\r\n                class=\"we-card we-text-dark card-panel-options \"\r\n                style=\"position: absolute; right: 0px; z-index: 10; border-radius: 1.2rem 0px 0px 1.2rem;\"\r\n            >\r\n                <app-panel-options\r\n                    [options]=\"options\"\r\n                    [className]=\"classNameOpts\"\r\n                    [inline]=\"true\"\r\n                    (onClick)=\"\r\n                        handleAction({\r\n                            action: $event\r\n                        })\r\n                    \"\r\n                ></app-panel-options>\r\n            </div>\r\n        </div>\r\n        <nav\r\n            class=\"we-navbar we-navbar-light we-navbar we-navbar-light we-bg-white\"\r\n            style=\"box-shadow: 0 4px 6px rgba(50,50,93,.11), 0 1px 3px rgba(0,0,0,.08);\"\r\n        >\r\n            <div class=\"we-navbar-brand\">\r\n                <b>Design des articles</b>\r\n            </div>\r\n\r\n            <button\r\n                class=\"we-btn we-btn-sm we-btn-primary my-2 my-sm-0\"\r\n                (click)=\"save()\"\r\n                [disabled]=\"isLoading\"\r\n            >\r\n                <i class=\"fa fa-spinner fa-spin\" *ngIf=\"isLoading\"></i>\r\n                <i class=\"fas fa-save\" *ngIf=\"!isLoading\"></i>\r\n                Enregistrer\r\n            </button>\r\n        </nav>\r\n\r\n        <!-- PAGE ARTICLE -->\r\n        <div\r\n            *ngIf=\"loadedRcpts\"\r\n            class=\"we-bg-white we-container-fluid page-preview\"\r\n        >\r\n            <div class=\"we-row\">\r\n                <div class=\"we-col-12\">\r\n                    <!-- <pre>{{ this.model.ui | json }}</pre> -->\r\n                    <div class=\"we-container\">\r\n                        <h1>Exemple d'article de blog</h1>\r\n\r\n                        {{ version.body }}\r\n                    </div>\r\n                </div>\r\n                <ng-container *ngIf=\"cfgArticle.ui.comments\">\r\n                    <div class=\"we-col-12\">\r\n                        <app-react-cpt\r\n                            *ngIf=\"commentsLoaded\"\r\n                            #CommentsRcpt\r\n                            [component]=\"commentsCpt\"\r\n                            [props]=\"commentsProps\"\r\n                        ></app-react-cpt>\r\n                        <app-loading *ngIf=\"!commentsLoaded\"></app-loading>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n        </div>\r\n        <app-loading\r\n            title=\"chargement de la page design des articles\"\r\n            [active]=\"!loadedRcpts\"\r\n        ></app-loading>\r\n    </ng-container>\r\n    <ng-container role=\"personnalisation\">\r\n        <div *ngIf=\"loadedConf\" class=\"editor__section-row\">\r\n            <div class=\"editor__section-col\">\r\n                <div>Elements visuel</div>\r\n                <div\r\n                    class=\"we-btn-group\"\r\n                    role=\"group\"\r\n                    aria-label=\"Button group for active or not element on product page\"\r\n                >\r\n                    <ng-container *ngFor=\"let ui of model.ui\">\r\n                        <button\r\n                            *ngIf=\"ui.visible\"\r\n                            (click)=\"toggleStateUi(ui)\"\r\n                            type=\"button\"\r\n                            [ngClass]=\"{\r\n                                'we-btn': true,\r\n                                'we-btn-outline-secondary': true,\r\n                                'we-active': ui.value\r\n                            }\"\r\n                        >\r\n                            {{ ui.label }}\r\n                        </button>\r\n                    </ng-container>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </ng-container>\r\n</app-main-content>\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/pages/apercu-article/apercu-article.component.html","import {\r\n    Component,\r\n    OnInit,\r\n    ChangeDetectorRef,\r\n    ViewChild,\r\n    OnDestroy,\r\n    AfterViewInit\r\n} from \"@angular/core\";\r\nimport { ScriptService } from \"../../../shared/services/script.service\";\r\nimport { StoreService } from \"../../../shared/services/store.service\";\r\nimport { DesignsModuleService } from \"../../../api\";\r\nimport { ErrorsService } from \"../../../global/services/errors.service\";\r\nimport { ModuleService } from \"../../../global/services/module.service\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { FormulairesService, FormulaireType } from \"../../../api-form\";\r\nimport { DesignConfig } from \"../../../api-shop/model/designConfig\";\r\nimport { ReactCptComponent } from \"../../../shared/components/react-cpt/react-cpt.component\";\r\nimport { BackgroundEditorComponent } from \"../../../shared/components/background-editor/background-editor.component\";\r\nimport { formatDomain } from \"../../../shared/utils/utils\";\r\ndeclare var moment: any;\r\n@Component({\r\n    selector: \"app-apercu-article\",\r\n    templateUrl: \"./apercu-article.component.html\",\r\n    styleUrls: [\"./apercu-article.component.scss\"]\r\n})\r\nexport class ApercuArticleComponent\r\n    implements OnInit, OnDestroy, AfterViewInit {\r\n    @ViewChild(\"BgEditor\") BgEditor: BackgroundEditorComponent;\r\n    @ViewChild(\"bgPreviewRcpt\") bgPreviewRcpt: ReactCptComponent;\r\n    isLoading: boolean = false;\r\n\r\n    version = {\r\n        body: `Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae justo at risus aliquam scelerisque. Pellentesque volutpat magna eget semper viverra. Nam sollicitudin vitae velit non posuere. Mauris quis gravida nulla. In sed mattis lorem.\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae justo at risus aliquam scelerisque. Pellentesque volutpat magna eget semper viverra. Nam sollicitudin vitae velit non posuere. Mauris quis gravida nulla. In sed mattis lorem.\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae justo at risus aliquam scelerisque. Pellentesque volutpat magna eget semper viverra. Nam sollicitudin vitae velit non posuere. Mauris quis gravida nulla. In sed mattis lorem.\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae justo at risus aliquam scelerisque. Pellentesque volutpat magna eget semper viverra. Nam sollicitudin vitae velit non posuere. Mauris quis gravida nulla. In sed mattis lorem.\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae justo at risus aliquam scelerisque. Pellentesque volutpat magna eget semper viverra. Nam sollicitudin vitae velit non posuere. Mauris quis gravida nulla. In sed mattis lorem.\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae justo at risus aliquam scelerisque. Pellentesque volutpat magna eget semper viverra. Nam sollicitudin vitae velit non posuere. Mauris quis gravida nulla. In sed mattis lorem.\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae justo at risus aliquam scelerisque. Pellentesque volutpat magna eget semper viverra. Nam sollicitudin vitae velit non posuere. Mauris quis gravida nulla. In sed mattis lorem.\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec vitae justo at risus aliquam scelerisque. Pellentesque volutpat magna eget semper viverra. Nam sollicitudin vitae velit non posuere. Mauris quis gravida nulla. In sed mattis lorem.`\r\n    };\r\n\r\n    ppr;\r\n    pprPropsCopyOnInit;\r\n\r\n    canCustomize: boolean = true;\r\n    loadedRcpts: boolean = true;\r\n    loadedConf: boolean = true;\r\n\r\n    options = [\r\n        {\r\n            name: \"\",\r\n            title: \"Personnalisation\",\r\n            icon: { active: true, className: \"fas fa-flask fa-lg\" },\r\n            action: \"show_form\",\r\n            className: \"opt_section__personnalisation we-cursor-pointer we-p-2\",\r\n            visible: true\r\n        }\r\n    ];\r\n\r\n    /**\r\n     * class pour les options\r\n     */\r\n    classNameOpts = \"we-restrict we-list-unstyled we-small we-mb-0\";\r\n\r\n    model = {\r\n        ui: [\r\n            {\r\n                label: \"Avis\",\r\n                key: \"comments\",\r\n                value: false,\r\n                visible: true,\r\n                type: \"elementsVisuel\"\r\n            }\r\n        ]\r\n    };\r\n\r\n    actionsRcpt = {\r\n        get_uid_site: () => this.store.curSite.uid\r\n    };\r\n\r\n    rcptPicker: any;\r\n    rcptPickerPromoProps: any = {\r\n        className: \"we-mx-auto\",\r\n        color: \"#f4253e\",\r\n        presetColors: [],\r\n        showPopover: true,\r\n        onChangeComplete: color => this.handleChange(color, \"promo\")\r\n    };\r\n\r\n    rcptPickerNewProps = {\r\n        ...this.rcptPickerPromoProps,\r\n        onChangeComplete: color => this.handleChange(color, \"new\")\r\n    };\r\n\r\n    design: DesignConfig;\r\n\r\n    testCpt = window[\"CardLayoutRcpt\"] && window[\"CardLayoutRcpt\"].default;\r\n    wantChangeBgCards = false;\r\n    styleModalBgCards = { zIndex: 1050 };\r\n    wantChangeBgInfos = false;\r\n    styleModalBgInfos = { zIndex: 1050 };\r\n\r\n    cfgArticle;\r\n    commentsLoaded = false;\r\n\r\n    commentsCpt;\r\n    commentsProps = {\r\n        bg: {\r\n            class: \"bg-transparent\"\r\n        },\r\n        sectionCss: \"\",\r\n        containerCss: \"container\",\r\n        valPaddingT: 4,\r\n        fake: true,\r\n        fakeItems: [\r\n            {\r\n                title: \"Titre du commentaire\",\r\n                name: \"Nom\",\r\n                rating: 5,\r\n                dateMsg: moment().format(\"LL\"),\r\n                msg:\r\n                    \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed id metus urna. Fusce efficitur eros porta sapien sagittis, a pharetra libero tristique. Duis turpis mi, bibendum vel sagittis ac, gravida et magna. Aenean auctor porta aliquam. Duis in molestie lectus. Etiam sed luctus metus. Mauris pharetra id erat nec ornare.\"\r\n            },\r\n            {\r\n                title: \"Titre du commentaire\",\r\n                name: \"Nom\",\r\n                rating: 3,\r\n                dateMsg: moment().format(\"LL\"),\r\n                msg:\r\n                    \"Cras et magna eu metus iaculis pellentesque eget aliquet ligula. Donec risus metus, blandit pulvinar tincidunt non, aliquam nec mi. Nam efficitur rhoncus interdum. In hac habitasse platea dictumst.\"\r\n            }\r\n        ]\r\n    };\r\n\r\n    constructor(\r\n        private scriptService: ScriptService,\r\n        private cd: ChangeDetectorRef,\r\n        private store: StoreService,\r\n        private designModuleApi: DesignsModuleService,\r\n        private errorsService: ErrorsService,\r\n        private moduleService: ModuleService,\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        private formApi: FormulairesService\r\n    ) {}\r\n\r\n    ngOnInit() {\r\n        this.initDesignConfig();\r\n        this.scriptService\r\n            .loader(\"JsonSchemaForm\", \"CarouselRcpt\", \"themeBSUser\")\r\n            .then(() => {\r\n                this.scriptService.loader(\"CommentsRcpt\").then(() => {\r\n                    this.commentsCpt = window[\"CommentsRcpt\"].default;\r\n                    this.commentsLoaded = true;\r\n                });\r\n            });\r\n        // this.store.loadFont();\r\n    }\r\n    initDesignConfig() {\r\n        if (!this.store.designModules.config[\"blog\"]) {\r\n            this.store.designModules.config[\"blog\"] = {\r\n                ficheArticle: {}\r\n            };\r\n        }\r\n        // console.log(\r\n        //     'this.store.designModules.config[\"blog\"].ficheArticle',\r\n        //     this.store.designModules.config[\"blog\"].ficheArticle\r\n        // );\r\n        this.cfgArticle = this.store.designModules.config[\"blog\"].ficheArticle;\r\n        this.initModel(this.cfgArticle);\r\n        this.cfgArticle[\"ui\"] = this.setUi();\r\n\r\n        // console.log(\"this.cfgArticle\", this.cfgArticle);\r\n        // console.log(\"this.model\", this.model);\r\n        // console.log(\"this.store.designModules\", this.store.designModules);\r\n    }\r\n    initModel(cfgArticle) {\r\n        for (const property in cfgArticle.ui) {\r\n            if (typeof cfgArticle.ui[property] !== \"undefined\") {\r\n                const el = this.model.ui.find(ui => ui.key === property);\r\n                if (el) {\r\n                    el.value = cfgArticle.ui[property];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    handleActionRcpt($e) {\r\n        return this.actionsRcpt[$e.action] && this.actionsRcpt[$e.action]($e);\r\n    }\r\n\r\n    handleAction($action) {\r\n        this.store.openCustomizer();\r\n    }\r\n\r\n    handleChange(color, type) {\r\n        // console.log(\"handleChange !!!\", color);\r\n        const { r, g, b, a } = color.rgb;\r\n        const rgba = `rgba(${r}, ${g}, ${b}, ${a})`;\r\n        // const ribbon = this.pprProps[\"commun\"][\"ribbons\"].find(r => r.type === type);\r\n        // ribbon.bgColor = rgba;\r\n        // this.ProductPageRcpt.binding();\r\n    }\r\n\r\n    toggleStateUi(ui) {\r\n        ui.value = !ui.value;\r\n\r\n        if (ui.key === \"comments\" && ui.value === true) {\r\n            this.checkFormReview();\r\n        }\r\n\r\n        this.cfgArticle[\"ui\"] = this.setUi();\r\n        // this.ProductPageRcpt.binding();\r\n    }\r\n\r\n    // Quand on active la premiere fois les avis\r\n    checkFormReview() {\r\n        // if id form else new form\r\n        //  this.pprProps.singleProduct\r\n        if (!this.cfgArticle.reviews) {\r\n            const schema = {\r\n                title: \"\",\r\n                description: \"\",\r\n                type: \"object\",\r\n                required: [\r\n                    \"Note\",\r\n                    \"Message\",\r\n                    \"Nom\",\r\n                    \"Title\",\r\n                    \"rgpd\",\r\n                    \"recaptcha\"\r\n                ],\r\n                properties: {\r\n                    Nom: {\r\n                        type: \"string\",\r\n                        title: \"Nom\",\r\n                        minLength: 2,\r\n                        maxLength: 100\r\n                    },\r\n                    Note: {\r\n                        type: \"number\",\r\n                        enum: [1, 2, 3, 4, 5],\r\n                        title: \"Note\"\r\n                    },\r\n                    Title: {\r\n                        type: \"string\",\r\n                        title: \"Titre de l'avis\",\r\n                        minLength: 3,\r\n                        maxLength: 150\r\n                    },\r\n                    Message: {\r\n                        type: \"string\",\r\n                        title: \"Message\",\r\n                        minLength: 3,\r\n                        maxLength: 1200\r\n                    },\r\n                    rgpd: {\r\n                        type: \"boolean\",\r\n                        title:\r\n                            \"En soumettant ce formulaire, j'accepte que les informations saisies soient exploitées dans le cadre de la relation commerciale qui peut en découler. Vous affirmez avoir pris connaissance de notre politique de confidentialité. Vous pouvez vous désinscrire à tout moment à l'aide des liens de désinscription.\",\r\n                        default: false\r\n                    },\r\n                    recaptcha: {\r\n                        type: \"string\"\r\n                    }\r\n                }\r\n            };\r\n            let formulaire: FormulaireType = {\r\n                fields: JSON.stringify(schema),\r\n                nom: \"Commentaires des articles de blog\",\r\n                type: \"reviews_posts\",\r\n                module_id: this.store.modules.find(m => m.name === \"blog\").id,\r\n                uid: this.store.curSite.uid,\r\n                groupes: \"[]\"\r\n            };\r\n\r\n            // console.log(\"Props : \", section);\r\n            // console.log(\"Form :\", formulaire);\r\n\r\n            let formId = this.store.curSite.uids.find(u => u.nom === \"form\");\r\n            this.formApi\r\n                .apiSitesSiteFormulairesPost(\r\n                    formulaire,\r\n                    formId.distant_id.toString()\r\n                )\r\n                .subscribe(form => {\r\n                    const path =\r\n                        \"https://awbjanv94g.execute-api.eu-west-1.amazonaws.com/prod/form/public\";\r\n                    const reviews = {\r\n                        id: form.id,\r\n                        url: formatDomain(`${path}/formulaire/${form.id}`),\r\n                        urlSave: formatDomain(`${path}/reponse/${form.id}`)\r\n                    };\r\n\r\n                    this.cfgArticle.reviews = reviews;\r\n                    // this.pprPropsCopyOnInit.singleProduct.reviews = reviews;\r\n\r\n                    this.store.designModules.config[\"blog\"][\r\n                        \"ficheArticle\"\r\n                    ] = this.cfgArticle;\r\n\r\n                    this.moduleService.updateDesignModule(() => {\r\n                        this.isLoading = false;\r\n                    });\r\n                });\r\n\r\n            // FAUDRA SAUVEGARDER /!\\ !!\r\n            // sauvegarder avec les props de debut, apres\r\n        }\r\n    }\r\n\r\n    setUi() {\r\n        const ui = {};\r\n        this.model.ui.forEach(el => {\r\n            if (el.type === \"elementsVisuel\" || el.type === \"titleHeader\") {\r\n                ui[el.key] = el.value;\r\n            }\r\n        });\r\n        return ui;\r\n    }\r\n\r\n    save() {\r\n        this.isLoading = true;\r\n\r\n        // copy des props\r\n        const props = JSON.parse(JSON.stringify(this.cfgArticle));\r\n\r\n        this.store.designModules.config[\"blog\"][\"ficheArticle\"] = props;\r\n\r\n        this.moduleService.updateDesignModule(() => {\r\n            this.isLoading = false;\r\n        });\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.scriptService.removeScript(\"themeBSUser\", false, true);\r\n        this.store.closeCustomizer();\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        // Ouverture du footer de personnalisation des arriver sur la page\r\n        // setTimeout pour fix ExpressionChangedAfterItHasBeenCheckedError\r\n        setTimeout(() => {\r\n            this.store.openCustomizer();\r\n        }, 100);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/pages/apercu-article/apercu-article.component.ts","import { Injectable } from \"@angular/core\";\r\nimport {\r\n    BlogsService,\r\n    ArticlesService,\r\n    ArticleType,\r\n    CategorieType\r\n} from \"../../api-blog\";\r\nimport { Subject } from \"rxjs/Subject\";\r\nimport { StoreService } from \"../../shared/services/store.service\";\r\nimport { ErrorsService } from \"../../global/services/errors.service\";\r\nimport { ModulesService } from \"../../api/api/modules.service\";\r\nimport { ModuleService } from \"../../global/services/module.service\";\r\nimport { PermissionService } from \"../../shared/services/permission.service\";\r\nimport { StatsService } from \"../../api-blog/api/stats.service\";\r\n\r\n@Injectable()\r\nexport class BlogService {\r\n    // ID du module blog dans la bdd\r\n    idModuleBlog = \"1\";\r\n    articles = [];\r\n    categories = [];\r\n\r\n    // Observable des events blog\r\n    events = new Subject<any>();\r\n\r\n    labels = {\r\n        helperTags: \"Appuyer sur la touche Éntrée pour valider une valeur\"\r\n    };\r\n\r\n    nbPosts = 0;\r\n\r\n    constructor(\r\n        private blogApi: BlogsService,\r\n        private articleApi: ArticlesService,\r\n        private storeService: StoreService,\r\n        private errorsService: ErrorsService,\r\n        private permService: PermissionService,\r\n        private store: StoreService,\r\n        private statsApi: StatsService\r\n    ) {}\r\n\r\n    getArticles(\r\n        page_published = 1,\r\n        published: 0 | 1 = 1,\r\n        onSuccess?: Function,\r\n        onError?: Function\r\n    ) {\r\n        this.blogApi\r\n            .apiBlogsSlugArticlesGet(\r\n                this.storeService.blogId,\r\n                page_published,\r\n                published\r\n            )\r\n            .subscribe(\r\n                e => {\r\n                    this.articles = e.items;\r\n                    if (typeof onSuccess === \"function\") {\r\n                        onSuccess(e);\r\n                    }\r\n                },\r\n                error => {\r\n                    this.errorsService.handleErrorHttp(error);\r\n                    if (typeof onError === \"function\") {\r\n                        onError(error);\r\n                    }\r\n                }\r\n            );\r\n    }\r\n\r\n    getCategories(onSuccess?: Function, onError?: Function) {\r\n        this.blogApi\r\n            .apiBlogsSlugCategoriesGet(this.storeService.blogId)\r\n            .subscribe(\r\n                cats => {\r\n                    this.categories = cats;\r\n                    if (typeof onSuccess === \"function\") {\r\n                        onSuccess(cats);\r\n                    }\r\n                },\r\n                error => {\r\n                    this.errorsService.handleErrorHttp(error);\r\n                    if (typeof onError === \"function\") {\r\n                        onError(error);\r\n                    }\r\n                }\r\n            );\r\n    }\r\n\r\n    // Créer un article\r\n    postArticle(\r\n        articleItem: ArticleType,\r\n        onSuccess?: Function,\r\n        onError?: Function\r\n    ) {\r\n        this.blogApi\r\n            .apiBlogsBlogArticlesPost(articleItem, this.storeService.blogId)\r\n            .subscribe(\r\n                e => {\r\n                    if (typeof onSuccess === \"function\") {\r\n                        onSuccess(e);\r\n                    }\r\n                },\r\n                error => {\r\n                    this.errorsService.handleErrorHttp(error);\r\n                    if (typeof onError === \"function\") {\r\n                        onError(error);\r\n                    }\r\n                }\r\n            );\r\n    }\r\n\r\n    postCategory(tag: CategorieType, onSuccess?: Function, onError?: Function) {\r\n        this.blogApi\r\n            .apiBlogsBlogCategoriesPost(\r\n                { name: tag.name },\r\n                this.storeService.blogId\r\n            )\r\n            .subscribe(\r\n                category => {\r\n                    this.categories.push(category);\r\n                    if (typeof onSuccess === \"function\") {\r\n                        onSuccess(category);\r\n                    }\r\n                },\r\n                error => {\r\n                    this.errorsService.handleErrorHttp(error);\r\n                    if (typeof onError === \"function\") {\r\n                        onError(error);\r\n                    }\r\n                }\r\n            );\r\n    }\r\n\r\n    getArticle(id, onSuccess?: Function, onError?: Function) {\r\n\r\n        this.articleApi.apiArticlesArticleGet(id).subscribe(\r\n            e => {\r\n                if (typeof onSuccess === \"function\") {\r\n                    onSuccess(e);\r\n                }\r\n            },\r\n            error => {\r\n                this.errorsService.handleErrorHttp(error);\r\n                if (typeof onError === \"function\") {\r\n                    onError(error);\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    putArticle(\r\n        articleItem: ArticleType,\r\n        id,\r\n        onSuccess?: Function,\r\n        onError?: Function\r\n    ) {\r\n        this.articleApi\r\n            .apiArticlesArticlePut(articleItem, String(id))\r\n            .subscribe(\r\n                e => {\r\n                    if (typeof onSuccess === \"function\") {\r\n                        onSuccess(e);\r\n                    }\r\n                },\r\n                error => {\r\n                    this.errorsService.handleErrorHttp(error);\r\n                    if (typeof onError === \"function\") {\r\n                        onError(error);\r\n                    }\r\n                }\r\n            );\r\n    }\r\n\r\n    hasReachedMaxNbPosts(openModal: boolean = true) {\r\n        const hasReached = this.permService.hasReachedLimit(\r\n            this.permService.LIMIT.NB_POSTS_BLOG,\r\n            this.nbPosts\r\n        );\r\n        if (hasReached && openModal) {\r\n            this.permService.openModalPlan(\r\n                this.permService.LIMIT.NB_POSTS_BLOG\r\n            );\r\n        }\r\n        return hasReached;\r\n    }\r\n\r\n    fetchNbPosts(onSuccess: Function) {\r\n        this.statsApi\r\n            .apiBlogsSlugArticleTotalGet(this.store.blogId)\r\n            .subscribe(result => {\r\n                this.nbPosts = result;\r\n                onSuccess();\r\n            });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/blog/services/blog.service.ts","<i [class]=\"iconCss\" [tooltip]=\"msg\" [options]=\"options\"></i>\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/components/tooltip-icon/tooltip-icon.component.html"],"sourceRoot":"webpack:///"}