(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1051:function(e,t,n){var s={"./af":798,"./af.js":798,"./ar":799,"./ar-dz":800,"./ar-dz.js":800,"./ar-kw":801,"./ar-kw.js":801,"./ar-ly":802,"./ar-ly.js":802,"./ar-ma":803,"./ar-ma.js":803,"./ar-sa":804,"./ar-sa.js":804,"./ar-tn":805,"./ar-tn.js":805,"./ar.js":799,"./az":806,"./az.js":806,"./be":807,"./be.js":807,"./bg":808,"./bg.js":808,"./bm":809,"./bm.js":809,"./bn":810,"./bn-bd":811,"./bn-bd.js":811,"./bn.js":810,"./bo":812,"./bo.js":812,"./br":813,"./br.js":813,"./bs":814,"./bs.js":814,"./ca":815,"./ca.js":815,"./cs":816,"./cs.js":816,"./cv":817,"./cv.js":817,"./cy":818,"./cy.js":818,"./da":819,"./da.js":819,"./de":820,"./de-at":821,"./de-at.js":821,"./de-ch":822,"./de-ch.js":822,"./de.js":820,"./dv":823,"./dv.js":823,"./el":824,"./el.js":824,"./en-au":825,"./en-au.js":825,"./en-ca":826,"./en-ca.js":826,"./en-gb":827,"./en-gb.js":827,"./en-ie":828,"./en-ie.js":828,"./en-il":829,"./en-il.js":829,"./en-in":830,"./en-in.js":830,"./en-nz":831,"./en-nz.js":831,"./en-sg":832,"./en-sg.js":832,"./eo":833,"./eo.js":833,"./es":834,"./es-do":835,"./es-do.js":835,"./es-mx":836,"./es-mx.js":836,"./es-us":837,"./es-us.js":837,"./es.js":834,"./et":838,"./et.js":838,"./eu":839,"./eu.js":839,"./fa":840,"./fa.js":840,"./fi":841,"./fi.js":841,"./fil":842,"./fil.js":842,"./fo":843,"./fo.js":843,"./fr":844,"./fr-ca":845,"./fr-ca.js":845,"./fr-ch":846,"./fr-ch.js":846,"./fr.js":844,"./fy":847,"./fy.js":847,"./ga":848,"./ga.js":848,"./gd":849,"./gd.js":849,"./gl":850,"./gl.js":850,"./gom-deva":851,"./gom-deva.js":851,"./gom-latn":852,"./gom-latn.js":852,"./gu":853,"./gu.js":853,"./he":854,"./he.js":854,"./hi":855,"./hi.js":855,"./hr":856,"./hr.js":856,"./hu":857,"./hu.js":857,"./hy-am":858,"./hy-am.js":858,"./id":859,"./id.js":859,"./is":860,"./is.js":860,"./it":861,"./it-ch":862,"./it-ch.js":862,"./it.js":861,"./ja":863,"./ja.js":863,"./jv":864,"./jv.js":864,"./ka":865,"./ka.js":865,"./kk":866,"./kk.js":866,"./km":867,"./km.js":867,"./kn":868,"./kn.js":868,"./ko":869,"./ko.js":869,"./ku":870,"./ku.js":870,"./ky":871,"./ky.js":871,"./lb":872,"./lb.js":872,"./lo":873,"./lo.js":873,"./lt":874,"./lt.js":874,"./lv":875,"./lv.js":875,"./me":876,"./me.js":876,"./mi":877,"./mi.js":877,"./mk":878,"./mk.js":878,"./ml":879,"./ml.js":879,"./mn":880,"./mn.js":880,"./mr":881,"./mr.js":881,"./ms":882,"./ms-my":883,"./ms-my.js":883,"./ms.js":882,"./mt":884,"./mt.js":884,"./my":885,"./my.js":885,"./nb":886,"./nb.js":886,"./ne":887,"./ne.js":887,"./nl":888,"./nl-be":889,"./nl-be.js":889,"./nl.js":888,"./nn":890,"./nn.js":890,"./oc-lnc":891,"./oc-lnc.js":891,"./pa-in":892,"./pa-in.js":892,"./pl":893,"./pl.js":893,"./pt":894,"./pt-br":895,"./pt-br.js":895,"./pt.js":894,"./ro":896,"./ro.js":896,"./ru":897,"./ru.js":897,"./sd":898,"./sd.js":898,"./se":899,"./se.js":899,"./si":900,"./si.js":900,"./sk":901,"./sk.js":901,"./sl":902,"./sl.js":902,"./sq":903,"./sq.js":903,"./sr":904,"./sr-cyrl":905,"./sr-cyrl.js":905,"./sr.js":904,"./ss":906,"./ss.js":906,"./sv":907,"./sv.js":907,"./sw":908,"./sw.js":908,"./ta":909,"./ta.js":909,"./te":910,"./te.js":910,"./tet":911,"./tet.js":911,"./tg":912,"./tg.js":912,"./th":913,"./th.js":913,"./tk":914,"./tk.js":914,"./tl-ph":915,"./tl-ph.js":915,"./tlh":916,"./tlh.js":916,"./tr":917,"./tr.js":917,"./tzl":918,"./tzl.js":918,"./tzm":919,"./tzm-latn":920,"./tzm-latn.js":920,"./tzm.js":919,"./ug-cn":921,"./ug-cn.js":921,"./uk":922,"./uk.js":922,"./ur":923,"./ur.js":923,"./uz":924,"./uz-latn":925,"./uz-latn.js":925,"./uz.js":924,"./vi":926,"./vi.js":926,"./x-pseudo":927,"./x-pseudo.js":927,"./yo":928,"./yo.js":928,"./zh-cn":929,"./zh-cn.js":929,"./zh-hk":930,"./zh-hk.js":930,"./zh-mo":931,"./zh-mo.js":931,"./zh-tw":932,"./zh-tw.js":932};function r(e){var t=a(e);return n(t)}function a(e){var t=s[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(s)},r.resolve=a,e.exports=r,r.id=1051},1277:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),a=n(734),o=n(240),i=n.n(o),c=n(764),l=n(45),u=n(16),f=n.n(u);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m=["blocks","bgCards"];function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),s.forEach((function(t){O(e,t,n[t])}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=w(e);if(t){var r=w(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=f.a._store.getEnv(),P=C.scheme,x=C.domain,_=C.subdomain,I=C.apiProd,E=C.domainApi,z=I?_:"blog",S="".concat(P,"://").concat(z,".").concat(I?E:x).replace("__API__","blog");n(730)().format();var N=i.a.CancelToken,L=f.a._css,A=f.a._getSrcSet,R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,s,o=y(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),O(k(t=o.call(this,e)),"cachedItems",null),t.blogModule=f.a._store.getUidSite("blog");var n={1:"col",2:"col-md-6",3:"col-md-4",4:"col-md-3"};if(t.props.items.items.length>0){var s=t.props.items,a=s.numItems,i=s.page,c=s.totalItems;t.state={cancelToken:null,forcePage:1,inLoading:!0,items:t.transformItems(t.props.items.items),numItems:a,page:i,totalItems:c,grid:n}}else t.state={cancelToken:null,forcePage:1,items:[],grid:n,inLoading:!0};return t.refArticles=r.a.createRef(),t}return t=u,(n=[{key:"getGrid",value:function(e,t){var n=this.state.grid,s=this.props.widthClass,r=n[e]||n[0];return void 0===e&&(r="col-md-12"===s?n[0]:n[1]),L(t,"col-12",r)}},{key:"getItems",value:function(e,t){return"edit"===this.props.mode&&(t.no_cache=!0),new Promise((function(n,s){i.a.get(e,{cancelToken:new N((function(e){e})),params:t}).then((function(e){n(e)})).catch((function(e){s(e)}))}))}},{key:"moreItem",value:function(){this.props.onAction({action:"click_new_item",data:{}})}},{key:"componentDidUpdate",value:function(e){e.tpl!==this.props.tpl&&this.cachedItems&&this.setState({items:this.transformItems(this.cachedItems)})}},{key:"componentDidMount",value:function(){this.loadItems(1,"init")}},{key:"loadItems",value:function(e,t){var n=this,s=this.blogModule&&this.blogModule.distant_id||this.props.idBlog,r=S+"/public/blogs/"+s+"/articles";this.props.categorie&&void 0!==this.props.categorie.id&&(r=S+"/public/categories/"+this.props.categorie.id+"/articles");var a={page:e};this.getItems(r,a).then((function(e){var s=e.data.items,r=e.data,a=r.numItems,o=r.page,i=r.totalItems;s=n.transformItems(s),n.setState({items:s,numItems:a,page:o,totalItems:i,inLoading:!1},(function(){if("page_change"===t){var e=n.refArticles.current;if(e){var s=e.querySelector('[card-index="0"]');$("html, body").animate({scrollTop:$(s).offset().top-55},750)}}}))})).catch((function(e){return console.log("erreur!!",e)}))}},{key:"transformItems",value:function(e){this.cachedItems=e;var t=this.props,n=t.tpl;return t.blocks,e.map((function(e){var t=e.article_histories[0],s=t.src_set&&A(JSON.parse(t.src_set)),r={active:!0,class:"",link:"/blog/"+e.slug,txt:"Lire la suite",icon:"",target:"_self"};return g({},e,{title:{txt:e.title,class:"",visible:!0},txt:{txt:t.description,class:"",visible:!0},link:r,linkOnCard:g({},r,{active:!0}),item:{link:r,img:{path:t.image,css:"img-fluid"},tpl:"Card2"===n?"bgImgLink":"imgLink",visible:t.image&&"https://mediacache.epicred.fr/4X6DE68rOO9oeeAGN6wlzbLgPTU=/1920x/https://media.epicred.fr/media/cache/original/all/5c1901e87c038.png"!==t.image,srcSet:s}})}))}},{key:"onActionPagination",value:function(e){var t=this;"page_change"===e.action&&this.setState({inLoading:!0},(function(){t.loadItems(e.data.nextPage,e.action)}))}},{key:"getOrder",value:function(e){var t={img:"left"},n={img:"right"};switch(this.props.orderCard){case 1:return t;case 2:return n;case 3:return e%2==0?t:n;case 4:return e%2==0?n:t;default:return t}}},{key:"render",value:function(){var e=this,t=this.props,n=t.blocks,s=t.bgCards,o=d(t,m),i=this.props,u=i.prefixCss,f=i.mode,p=i.msgAddItem,b=(i.widthClass,i.tpl),h=i.onManageModule,y=i.cardsInRow,v=i.mepOpts,k=i.mep,w=this.state,O=w.totalItems,C=w.numItems,P=w.forcePage,x=w.inLoading,_=P&&P-1||null,I=Math.ceil(O/C),E=(n.find((function(e){return"title"===e.name}))||{title:null}).title,z=this.state.items;return r.a.createElement(a.a,j({title:E},o),x&&r.a.createElement("div",{className:"text-center"},r.a.createElement("i",{className:"fas fa-spinner fa-pulse"})),!x&&0==O&&r.a.createElement("div",{className:"text-center mx-auto my-5"},"Aucun article ne semble en ligne actuellement."),r.a.createElement("div",{style:"edit"===f&&{padding:"1rem"}||{},className:L("","edit"===f&&"we-overlay")},r.a.createElement("div",{ref:this.refArticles,"data-app-listing":!0,className:L("","row","justify-content-center")},z.map((function(t,n){var a=e.getOrder(n);return r.a.createElement("div",{key:n,"card-index":n,className:L(u,e.getGrid(y,u),"py-2")},r.a.createElement(l.a,{order:a,mode:"view",card:g({},t,{bg:s}),tpl:b,mep:k,prefixCss:u,mepOpts:v}))}))),"edit"===f&&r.a.createElement("div",{style:{boxShadow:"0 0 5px #333",cursor:"pointer"},className:"we-overlay-body we-d-flex we-justify-content-center we-align-items-center",onClick:function(e){e.preventDefault(),e.stopPropagation(),h()}},r.a.createElement("button",{style:{zIndex:"1"},className:L("we-","btn","btn-dark","bg-dark"),onClick:function(e){e.preventDefault(),e.stopPropagation(),h()}},r.a.createElement("i",{className:"fas fa-pen-nib"})," ",p))),I>1&&r.a.createElement(c.a,{forcePage:_,pageCount:I,onAction:function(t){return e.onActionPagination(t)}}))}}])&&b(t.prototype,n),s&&b(t,s),u}(s.Component);R.defaultProps={prefixCss:"",mep:null,mode:"view",sectionCss:"",bg:{class:"bg-white",img:{path:"",class:""}},tpl:"Card2",widthClass:"col-md-12",orderCard:{img:"left"},onManageModule:function(){},blocks:[{name:"title",title:{txt:"BlogiBloga",class:"w-100"}},{name:"stitle",stitle:{txt:"Mon blog à moi",class:""}},{name:"card",pathItem:"",typeItem:""}],msgAddItem:"Gérer le blog",categorie:null,items:{items:[]}},t.default=R},764:function(e,t,n){"use strict";var s=n(0),r=n.n(s),a=n(797),o=n.n(a),i=n(16);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=m(e);if(t){var r=m(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=n.n(i).a._css,d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,n,s,a=f(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.call(this,e)}return t=i,(n=[{key:"handlePageClick",value:function(e){this.props.onAction({action:"page_change",data:{nextPage:e.selected+1}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCss,s=t.posContainer;return r.a.createElement("nav",{className:j(n,"d-flex","justify-content-center")},r.a.createElement(o.a,{previousLabel:"❮",forcePage:this.props.forcePage,initialPage:0,nextLabel:"❯",breakLabel:r.a.createElement("div",{className:"page-link"},"..."),breakClassName:"page-item",pageCount:this.props.pageCount,marginPagesDisplayed:2,pageRangeDisplayed:5,pageClassName:"page-item",pageLinkClassName:"page-link",nextClassName:"page-item",previousClassName:"page-item",previousLinkClassName:"page-link",nextLinkClassName:"page-link",onPageChange:function(t){return e.handlePageClick(t)},containerClassName:j(n,"pagination",s),subContainerClassName:"pages pagination",activeClassName:"active",disableInitialCallback:!0}))}}])&&l(t.prototype,n),s&&l(t,s),i}(s.Component);d.defaultProps={prefixCss:"",pageCount:1,posContainer:"",onAction:function(){},forcePage:null},t.a=d}}]);